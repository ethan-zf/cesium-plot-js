{"version":3,"file":"createCorridorGeometry.js","sources":["../../../Source/Core/CorridorGeometry.js","../../../Source/WorkersES6/createCorridorGeometry.js"],"sourcesContent":["import arrayRemoveDuplicates from \"./arrayRemoveDuplicates.js\";\r\nimport BoundingSphere from \"./BoundingSphere.js\";\r\nimport Cartesian3 from \"./Cartesian3.js\";\r\nimport Cartographic from \"./Cartographic.js\";\r\nimport Check from \"./Check.js\";\r\nimport ComponentDatatype from \"./ComponentDatatype.js\";\r\nimport CornerType from \"./CornerType.js\";\r\nimport CorridorGeometryLibrary from \"./CorridorGeometryLibrary.js\";\r\nimport defaultValue from \"./defaultValue.js\";\r\nimport defined from \"./defined.js\";\r\nimport Ellipsoid from \"./Ellipsoid.js\";\r\nimport Geometry from \"./Geometry.js\";\r\nimport GeometryAttribute from \"./GeometryAttribute.js\";\r\nimport GeometryAttributes from \"./GeometryAttributes.js\";\r\nimport GeometryOffsetAttribute from \"./GeometryOffsetAttribute.js\";\r\nimport IndexDatatype from \"./IndexDatatype.js\";\r\nimport CesiumMath from \"./Math.js\";\r\nimport PolygonPipeline from \"./PolygonPipeline.js\";\r\nimport PrimitiveType from \"./PrimitiveType.js\";\r\nimport Rectangle from \"./Rectangle.js\";\r\nimport VertexFormat from \"./VertexFormat.js\";\r\n\r\nconst cartesian1 = new Cartesian3();\r\nconst cartesian2 = new Cartesian3();\r\nconst cartesian3 = new Cartesian3();\r\nconst cartesian4 = new Cartesian3();\r\nconst cartesian5 = new Cartesian3();\r\nconst cartesian6 = new Cartesian3();\r\n\r\nconst scratch1 = new Cartesian3();\r\nconst scratch2 = new Cartesian3();\r\n\r\nfunction scaleToSurface(positions, ellipsoid) {\r\n  for (let i = 0; i < positions.length; i++) {\r\n    positions[i] = ellipsoid.scaleToGeodeticSurface(positions[i], positions[i]);\r\n  }\r\n  return positions;\r\n}\r\n\r\nfunction addNormals(attr, normal, left, front, back, vertexFormat) {\r\n  const normals = attr.normals;\r\n  const tangents = attr.tangents;\r\n  const bitangents = attr.bitangents;\r\n  const forward = Cartesian3.normalize(\r\n    Cartesian3.cross(left, normal, scratch1),\r\n    scratch1\r\n  );\r\n  if (vertexFormat.normal) {\r\n    CorridorGeometryLibrary.addAttribute(normals, normal, front, back);\r\n  }\r\n  if (vertexFormat.tangent) {\r\n    CorridorGeometryLibrary.addAttribute(tangents, forward, front, back);\r\n  }\r\n  if (vertexFormat.bitangent) {\r\n    CorridorGeometryLibrary.addAttribute(bitangents, left, front, back);\r\n  }\r\n}\r\n\r\nfunction combine(computedPositions, vertexFormat, ellipsoid) {\r\n  const positions = computedPositions.positions;\r\n  const corners = computedPositions.corners;\r\n  const endPositions = computedPositions.endPositions;\r\n  const computedLefts = computedPositions.lefts;\r\n  const computedNormals = computedPositions.normals;\r\n  const attributes = new GeometryAttributes();\r\n  let corner;\r\n  let leftCount = 0;\r\n  let rightCount = 0;\r\n  let i;\r\n  let indicesLength = 0;\r\n  let length;\r\n  for (i = 0; i < positions.length; i += 2) {\r\n    length = positions[i].length - 3;\r\n    leftCount += length; //subtracting 3 to account for duplicate points at corners\r\n    indicesLength += length * 2;\r\n    rightCount += positions[i + 1].length - 3;\r\n  }\r\n  leftCount += 3; //add back count for end positions\r\n  rightCount += 3;\r\n  for (i = 0; i < corners.length; i++) {\r\n    corner = corners[i];\r\n    const leftSide = corners[i].leftPositions;\r\n    if (defined(leftSide)) {\r\n      length = leftSide.length;\r\n      leftCount += length;\r\n      indicesLength += length;\r\n    } else {\r\n      length = corners[i].rightPositions.length;\r\n      rightCount += length;\r\n      indicesLength += length;\r\n    }\r\n  }\r\n\r\n  const addEndPositions = defined(endPositions);\r\n  let endPositionLength;\r\n  if (addEndPositions) {\r\n    endPositionLength = endPositions[0].length - 3;\r\n    leftCount += endPositionLength;\r\n    rightCount += endPositionLength;\r\n    endPositionLength /= 3;\r\n    indicesLength += endPositionLength * 6;\r\n  }\r\n  const size = leftCount + rightCount;\r\n  const finalPositions = new Float64Array(size);\r\n  const normals = vertexFormat.normal ? new Float32Array(size) : undefined;\r\n  const tangents = vertexFormat.tangent ? new Float32Array(size) : undefined;\r\n  const bitangents = vertexFormat.bitangent\r\n    ? new Float32Array(size)\r\n    : undefined;\r\n  const attr = {\r\n    normals: normals,\r\n    tangents: tangents,\r\n    bitangents: bitangents,\r\n  };\r\n  let front = 0;\r\n  let back = size - 1;\r\n  let UL, LL, UR, LR;\r\n  let normal = cartesian1;\r\n  let left = cartesian2;\r\n  let rightPos, leftPos;\r\n  const halfLength = endPositionLength / 2;\r\n\r\n  const indices = IndexDatatype.createTypedArray(size / 3, indicesLength);\r\n  let index = 0;\r\n  if (addEndPositions) {\r\n    // add rounded end\r\n    leftPos = cartesian3;\r\n    rightPos = cartesian4;\r\n    const firstEndPositions = endPositions[0];\r\n    normal = Cartesian3.fromArray(computedNormals, 0, normal);\r\n    left = Cartesian3.fromArray(computedLefts, 0, left);\r\n    for (i = 0; i < halfLength; i++) {\r\n      leftPos = Cartesian3.fromArray(\r\n        firstEndPositions,\r\n        (halfLength - 1 - i) * 3,\r\n        leftPos\r\n      );\r\n      rightPos = Cartesian3.fromArray(\r\n        firstEndPositions,\r\n        (halfLength + i) * 3,\r\n        rightPos\r\n      );\r\n      CorridorGeometryLibrary.addAttribute(finalPositions, rightPos, front);\r\n      CorridorGeometryLibrary.addAttribute(\r\n        finalPositions,\r\n        leftPos,\r\n        undefined,\r\n        back\r\n      );\r\n      addNormals(attr, normal, left, front, back, vertexFormat);\r\n\r\n      LL = front / 3;\r\n      LR = LL + 1;\r\n      UL = (back - 2) / 3;\r\n      UR = UL - 1;\r\n      indices[index++] = UL;\r\n      indices[index++] = LL;\r\n      indices[index++] = UR;\r\n      indices[index++] = UR;\r\n      indices[index++] = LL;\r\n      indices[index++] = LR;\r\n\r\n      front += 3;\r\n      back -= 3;\r\n    }\r\n  }\r\n\r\n  let posIndex = 0;\r\n  let compIndex = 0;\r\n  let rightEdge = positions[posIndex++]; //add first two edges\r\n  let leftEdge = positions[posIndex++];\r\n  finalPositions.set(rightEdge, front);\r\n  finalPositions.set(leftEdge, back - leftEdge.length + 1);\r\n\r\n  left = Cartesian3.fromArray(computedLefts, compIndex, left);\r\n  let rightNormal;\r\n  let leftNormal;\r\n  length = leftEdge.length - 3;\r\n  for (i = 0; i < length; i += 3) {\r\n    rightNormal = ellipsoid.geodeticSurfaceNormal(\r\n      Cartesian3.fromArray(rightEdge, i, scratch1),\r\n      scratch1\r\n    );\r\n    leftNormal = ellipsoid.geodeticSurfaceNormal(\r\n      Cartesian3.fromArray(leftEdge, length - i, scratch2),\r\n      scratch2\r\n    );\r\n    normal = Cartesian3.normalize(\r\n      Cartesian3.add(rightNormal, leftNormal, normal),\r\n      normal\r\n    );\r\n    addNormals(attr, normal, left, front, back, vertexFormat);\r\n\r\n    LL = front / 3;\r\n    LR = LL + 1;\r\n    UL = (back - 2) / 3;\r\n    UR = UL - 1;\r\n    indices[index++] = UL;\r\n    indices[index++] = LL;\r\n    indices[index++] = UR;\r\n    indices[index++] = UR;\r\n    indices[index++] = LL;\r\n    indices[index++] = LR;\r\n\r\n    front += 3;\r\n    back -= 3;\r\n  }\r\n\r\n  rightNormal = ellipsoid.geodeticSurfaceNormal(\r\n    Cartesian3.fromArray(rightEdge, length, scratch1),\r\n    scratch1\r\n  );\r\n  leftNormal = ellipsoid.geodeticSurfaceNormal(\r\n    Cartesian3.fromArray(leftEdge, length, scratch2),\r\n    scratch2\r\n  );\r\n  normal = Cartesian3.normalize(\r\n    Cartesian3.add(rightNormal, leftNormal, normal),\r\n    normal\r\n  );\r\n  compIndex += 3;\r\n  for (i = 0; i < corners.length; i++) {\r\n    let j;\r\n    corner = corners[i];\r\n    const l = corner.leftPositions;\r\n    const r = corner.rightPositions;\r\n    let pivot;\r\n    let start;\r\n    let outsidePoint = cartesian6;\r\n    let previousPoint = cartesian3;\r\n    let nextPoint = cartesian4;\r\n    normal = Cartesian3.fromArray(computedNormals, compIndex, normal);\r\n    if (defined(l)) {\r\n      addNormals(attr, normal, left, undefined, back, vertexFormat);\r\n      back -= 3;\r\n      pivot = LR;\r\n      start = UR;\r\n      for (j = 0; j < l.length / 3; j++) {\r\n        outsidePoint = Cartesian3.fromArray(l, j * 3, outsidePoint);\r\n        indices[index++] = pivot;\r\n        indices[index++] = start - j - 1;\r\n        indices[index++] = start - j;\r\n        CorridorGeometryLibrary.addAttribute(\r\n          finalPositions,\r\n          outsidePoint,\r\n          undefined,\r\n          back\r\n        );\r\n        previousPoint = Cartesian3.fromArray(\r\n          finalPositions,\r\n          (start - j - 1) * 3,\r\n          previousPoint\r\n        );\r\n        nextPoint = Cartesian3.fromArray(finalPositions, pivot * 3, nextPoint);\r\n        left = Cartesian3.normalize(\r\n          Cartesian3.subtract(previousPoint, nextPoint, left),\r\n          left\r\n        );\r\n        addNormals(attr, normal, left, undefined, back, vertexFormat);\r\n        back -= 3;\r\n      }\r\n      outsidePoint = Cartesian3.fromArray(\r\n        finalPositions,\r\n        pivot * 3,\r\n        outsidePoint\r\n      );\r\n      previousPoint = Cartesian3.subtract(\r\n        Cartesian3.fromArray(finalPositions, start * 3, previousPoint),\r\n        outsidePoint,\r\n        previousPoint\r\n      );\r\n      nextPoint = Cartesian3.subtract(\r\n        Cartesian3.fromArray(finalPositions, (start - j) * 3, nextPoint),\r\n        outsidePoint,\r\n        nextPoint\r\n      );\r\n      left = Cartesian3.normalize(\r\n        Cartesian3.add(previousPoint, nextPoint, left),\r\n        left\r\n      );\r\n      addNormals(attr, normal, left, front, undefined, vertexFormat);\r\n      front += 3;\r\n    } else {\r\n      addNormals(attr, normal, left, front, undefined, vertexFormat);\r\n      front += 3;\r\n      pivot = UR;\r\n      start = LR;\r\n      for (j = 0; j < r.length / 3; j++) {\r\n        outsidePoint = Cartesian3.fromArray(r, j * 3, outsidePoint);\r\n        indices[index++] = pivot;\r\n        indices[index++] = start + j;\r\n        indices[index++] = start + j + 1;\r\n        CorridorGeometryLibrary.addAttribute(\r\n          finalPositions,\r\n          outsidePoint,\r\n          front\r\n        );\r\n        previousPoint = Cartesian3.fromArray(\r\n          finalPositions,\r\n          pivot * 3,\r\n          previousPoint\r\n        );\r\n        nextPoint = Cartesian3.fromArray(\r\n          finalPositions,\r\n          (start + j) * 3,\r\n          nextPoint\r\n        );\r\n        left = Cartesian3.normalize(\r\n          Cartesian3.subtract(previousPoint, nextPoint, left),\r\n          left\r\n        );\r\n        addNormals(attr, normal, left, front, undefined, vertexFormat);\r\n        front += 3;\r\n      }\r\n      outsidePoint = Cartesian3.fromArray(\r\n        finalPositions,\r\n        pivot * 3,\r\n        outsidePoint\r\n      );\r\n      previousPoint = Cartesian3.subtract(\r\n        Cartesian3.fromArray(finalPositions, (start + j) * 3, previousPoint),\r\n        outsidePoint,\r\n        previousPoint\r\n      );\r\n      nextPoint = Cartesian3.subtract(\r\n        Cartesian3.fromArray(finalPositions, start * 3, nextPoint),\r\n        outsidePoint,\r\n        nextPoint\r\n      );\r\n      left = Cartesian3.normalize(\r\n        Cartesian3.negate(Cartesian3.add(nextPoint, previousPoint, left), left),\r\n        left\r\n      );\r\n      addNormals(attr, normal, left, undefined, back, vertexFormat);\r\n      back -= 3;\r\n    }\r\n    rightEdge = positions[posIndex++];\r\n    leftEdge = positions[posIndex++];\r\n    rightEdge.splice(0, 3); //remove duplicate points added by corner\r\n    leftEdge.splice(leftEdge.length - 3, 3);\r\n    finalPositions.set(rightEdge, front);\r\n    finalPositions.set(leftEdge, back - leftEdge.length + 1);\r\n    length = leftEdge.length - 3;\r\n\r\n    compIndex += 3;\r\n    left = Cartesian3.fromArray(computedLefts, compIndex, left);\r\n    for (j = 0; j < leftEdge.length; j += 3) {\r\n      rightNormal = ellipsoid.geodeticSurfaceNormal(\r\n        Cartesian3.fromArray(rightEdge, j, scratch1),\r\n        scratch1\r\n      );\r\n      leftNormal = ellipsoid.geodeticSurfaceNormal(\r\n        Cartesian3.fromArray(leftEdge, length - j, scratch2),\r\n        scratch2\r\n      );\r\n      normal = Cartesian3.normalize(\r\n        Cartesian3.add(rightNormal, leftNormal, normal),\r\n        normal\r\n      );\r\n      addNormals(attr, normal, left, front, back, vertexFormat);\r\n\r\n      LR = front / 3;\r\n      LL = LR - 1;\r\n      UR = (back - 2) / 3;\r\n      UL = UR + 1;\r\n      indices[index++] = UL;\r\n      indices[index++] = LL;\r\n      indices[index++] = UR;\r\n      indices[index++] = UR;\r\n      indices[index++] = LL;\r\n      indices[index++] = LR;\r\n\r\n      front += 3;\r\n      back -= 3;\r\n    }\r\n    front -= 3;\r\n    back += 3;\r\n  }\r\n  normal = Cartesian3.fromArray(\r\n    computedNormals,\r\n    computedNormals.length - 3,\r\n    normal\r\n  );\r\n  addNormals(attr, normal, left, front, back, vertexFormat);\r\n\r\n  if (addEndPositions) {\r\n    // add rounded end\r\n    front += 3;\r\n    back -= 3;\r\n    leftPos = cartesian3;\r\n    rightPos = cartesian4;\r\n    const lastEndPositions = endPositions[1];\r\n    for (i = 0; i < halfLength; i++) {\r\n      leftPos = Cartesian3.fromArray(\r\n        lastEndPositions,\r\n        (endPositionLength - i - 1) * 3,\r\n        leftPos\r\n      );\r\n      rightPos = Cartesian3.fromArray(lastEndPositions, i * 3, rightPos);\r\n      CorridorGeometryLibrary.addAttribute(\r\n        finalPositions,\r\n        leftPos,\r\n        undefined,\r\n        back\r\n      );\r\n      CorridorGeometryLibrary.addAttribute(finalPositions, rightPos, front);\r\n      addNormals(attr, normal, left, front, back, vertexFormat);\r\n\r\n      LR = front / 3;\r\n      LL = LR - 1;\r\n      UR = (back - 2) / 3;\r\n      UL = UR + 1;\r\n      indices[index++] = UL;\r\n      indices[index++] = LL;\r\n      indices[index++] = UR;\r\n      indices[index++] = UR;\r\n      indices[index++] = LL;\r\n      indices[index++] = LR;\r\n\r\n      front += 3;\r\n      back -= 3;\r\n    }\r\n  }\r\n\r\n  attributes.position = new GeometryAttribute({\r\n    componentDatatype: ComponentDatatype.DOUBLE,\r\n    componentsPerAttribute: 3,\r\n    values: finalPositions,\r\n  });\r\n\r\n  if (vertexFormat.st) {\r\n    const st = new Float32Array((size / 3) * 2);\r\n    let rightSt;\r\n    let leftSt;\r\n    let stIndex = 0;\r\n    if (addEndPositions) {\r\n      leftCount /= 3;\r\n      rightCount /= 3;\r\n      const theta = Math.PI / (endPositionLength + 1);\r\n      leftSt = 1 / (leftCount - endPositionLength + 1);\r\n      rightSt = 1 / (rightCount - endPositionLength + 1);\r\n      let a;\r\n      const halfEndPos = endPositionLength / 2;\r\n      for (i = halfEndPos + 1; i < endPositionLength + 1; i++) {\r\n        // lower left rounded end\r\n        a = CesiumMath.PI_OVER_TWO + theta * i;\r\n        st[stIndex++] = rightSt * (1 + Math.cos(a));\r\n        st[stIndex++] = 0.5 * (1 + Math.sin(a));\r\n      }\r\n      for (i = 1; i < rightCount - endPositionLength + 1; i++) {\r\n        // bottom edge\r\n        st[stIndex++] = i * rightSt;\r\n        st[stIndex++] = 0;\r\n      }\r\n      for (i = endPositionLength; i > halfEndPos; i--) {\r\n        // lower right rounded end\r\n        a = CesiumMath.PI_OVER_TWO - i * theta;\r\n        st[stIndex++] = 1 - rightSt * (1 + Math.cos(a));\r\n        st[stIndex++] = 0.5 * (1 + Math.sin(a));\r\n      }\r\n      for (i = halfEndPos; i > 0; i--) {\r\n        // upper right rounded end\r\n        a = CesiumMath.PI_OVER_TWO - theta * i;\r\n        st[stIndex++] = 1 - leftSt * (1 + Math.cos(a));\r\n        st[stIndex++] = 0.5 * (1 + Math.sin(a));\r\n      }\r\n      for (i = leftCount - endPositionLength; i > 0; i--) {\r\n        // top edge\r\n        st[stIndex++] = i * leftSt;\r\n        st[stIndex++] = 1;\r\n      }\r\n      for (i = 1; i < halfEndPos + 1; i++) {\r\n        // upper left rounded end\r\n        a = CesiumMath.PI_OVER_TWO + theta * i;\r\n        st[stIndex++] = leftSt * (1 + Math.cos(a));\r\n        st[stIndex++] = 0.5 * (1 + Math.sin(a));\r\n      }\r\n    } else {\r\n      leftCount /= 3;\r\n      rightCount /= 3;\r\n      leftSt = 1 / (leftCount - 1);\r\n      rightSt = 1 / (rightCount - 1);\r\n      for (i = 0; i < rightCount; i++) {\r\n        // bottom edge\r\n        st[stIndex++] = i * rightSt;\r\n        st[stIndex++] = 0;\r\n      }\r\n      for (i = leftCount; i > 0; i--) {\r\n        // top edge\r\n        st[stIndex++] = (i - 1) * leftSt;\r\n        st[stIndex++] = 1;\r\n      }\r\n    }\r\n\r\n    attributes.st = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.FLOAT,\r\n      componentsPerAttribute: 2,\r\n      values: st,\r\n    });\r\n  }\r\n\r\n  if (vertexFormat.normal) {\r\n    attributes.normal = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.FLOAT,\r\n      componentsPerAttribute: 3,\r\n      values: attr.normals,\r\n    });\r\n  }\r\n\r\n  if (vertexFormat.tangent) {\r\n    attributes.tangent = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.FLOAT,\r\n      componentsPerAttribute: 3,\r\n      values: attr.tangents,\r\n    });\r\n  }\r\n\r\n  if (vertexFormat.bitangent) {\r\n    attributes.bitangent = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.FLOAT,\r\n      componentsPerAttribute: 3,\r\n      values: attr.bitangents,\r\n    });\r\n  }\r\n\r\n  return {\r\n    attributes: attributes,\r\n    indices: indices,\r\n  };\r\n}\r\n\r\nfunction extrudedAttributes(attributes, vertexFormat) {\r\n  if (\r\n    !vertexFormat.normal &&\r\n    !vertexFormat.tangent &&\r\n    !vertexFormat.bitangent &&\r\n    !vertexFormat.st\r\n  ) {\r\n    return attributes;\r\n  }\r\n  const positions = attributes.position.values;\r\n  let topNormals;\r\n  let topBitangents;\r\n  if (vertexFormat.normal || vertexFormat.bitangent) {\r\n    topNormals = attributes.normal.values;\r\n    topBitangents = attributes.bitangent.values;\r\n  }\r\n  const size = attributes.position.values.length / 18;\r\n  const threeSize = size * 3;\r\n  const twoSize = size * 2;\r\n  const sixSize = threeSize * 2;\r\n  let i;\r\n  if (vertexFormat.normal || vertexFormat.bitangent || vertexFormat.tangent) {\r\n    const normals = vertexFormat.normal\r\n      ? new Float32Array(threeSize * 6)\r\n      : undefined;\r\n    const tangents = vertexFormat.tangent\r\n      ? new Float32Array(threeSize * 6)\r\n      : undefined;\r\n    const bitangents = vertexFormat.bitangent\r\n      ? new Float32Array(threeSize * 6)\r\n      : undefined;\r\n    let topPosition = cartesian1;\r\n    let bottomPosition = cartesian2;\r\n    let previousPosition = cartesian3;\r\n    let normal = cartesian4;\r\n    let tangent = cartesian5;\r\n    let bitangent = cartesian6;\r\n    let attrIndex = sixSize;\r\n    for (i = 0; i < threeSize; i += 3) {\r\n      const attrIndexOffset = attrIndex + sixSize;\r\n      topPosition = Cartesian3.fromArray(positions, i, topPosition);\r\n      bottomPosition = Cartesian3.fromArray(\r\n        positions,\r\n        i + threeSize,\r\n        bottomPosition\r\n      );\r\n      previousPosition = Cartesian3.fromArray(\r\n        positions,\r\n        (i + 3) % threeSize,\r\n        previousPosition\r\n      );\r\n      bottomPosition = Cartesian3.subtract(\r\n        bottomPosition,\r\n        topPosition,\r\n        bottomPosition\r\n      );\r\n      previousPosition = Cartesian3.subtract(\r\n        previousPosition,\r\n        topPosition,\r\n        previousPosition\r\n      );\r\n      normal = Cartesian3.normalize(\r\n        Cartesian3.cross(bottomPosition, previousPosition, normal),\r\n        normal\r\n      );\r\n      if (vertexFormat.normal) {\r\n        CorridorGeometryLibrary.addAttribute(normals, normal, attrIndexOffset);\r\n        CorridorGeometryLibrary.addAttribute(\r\n          normals,\r\n          normal,\r\n          attrIndexOffset + 3\r\n        );\r\n        CorridorGeometryLibrary.addAttribute(normals, normal, attrIndex);\r\n        CorridorGeometryLibrary.addAttribute(normals, normal, attrIndex + 3);\r\n      }\r\n      if (vertexFormat.tangent || vertexFormat.bitangent) {\r\n        bitangent = Cartesian3.fromArray(topNormals, i, bitangent);\r\n        if (vertexFormat.bitangent) {\r\n          CorridorGeometryLibrary.addAttribute(\r\n            bitangents,\r\n            bitangent,\r\n            attrIndexOffset\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(\r\n            bitangents,\r\n            bitangent,\r\n            attrIndexOffset + 3\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(\r\n            bitangents,\r\n            bitangent,\r\n            attrIndex\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(\r\n            bitangents,\r\n            bitangent,\r\n            attrIndex + 3\r\n          );\r\n        }\r\n\r\n        if (vertexFormat.tangent) {\r\n          tangent = Cartesian3.normalize(\r\n            Cartesian3.cross(bitangent, normal, tangent),\r\n            tangent\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(\r\n            tangents,\r\n            tangent,\r\n            attrIndexOffset\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(\r\n            tangents,\r\n            tangent,\r\n            attrIndexOffset + 3\r\n          );\r\n          CorridorGeometryLibrary.addAttribute(tangents, tangent, attrIndex);\r\n          CorridorGeometryLibrary.addAttribute(\r\n            tangents,\r\n            tangent,\r\n            attrIndex + 3\r\n          );\r\n        }\r\n      }\r\n      attrIndex += 6;\r\n    }\r\n\r\n    if (vertexFormat.normal) {\r\n      normals.set(topNormals); //top\r\n      for (i = 0; i < threeSize; i += 3) {\r\n        //bottom normals\r\n        normals[i + threeSize] = -topNormals[i];\r\n        normals[i + threeSize + 1] = -topNormals[i + 1];\r\n        normals[i + threeSize + 2] = -topNormals[i + 2];\r\n      }\r\n      attributes.normal.values = normals;\r\n    } else {\r\n      attributes.normal = undefined;\r\n    }\r\n\r\n    if (vertexFormat.bitangent) {\r\n      bitangents.set(topBitangents); //top\r\n      bitangents.set(topBitangents, threeSize); //bottom\r\n      attributes.bitangent.values = bitangents;\r\n    } else {\r\n      attributes.bitangent = undefined;\r\n    }\r\n\r\n    if (vertexFormat.tangent) {\r\n      const topTangents = attributes.tangent.values;\r\n      tangents.set(topTangents); //top\r\n      tangents.set(topTangents, threeSize); //bottom\r\n      attributes.tangent.values = tangents;\r\n    }\r\n  }\r\n  if (vertexFormat.st) {\r\n    const topSt = attributes.st.values;\r\n    const st = new Float32Array(twoSize * 6);\r\n    st.set(topSt); //top\r\n    st.set(topSt, twoSize); //bottom\r\n    let index = twoSize * 2;\r\n\r\n    for (let j = 0; j < 2; j++) {\r\n      st[index++] = topSt[0];\r\n      st[index++] = topSt[1];\r\n      for (i = 2; i < twoSize; i += 2) {\r\n        const s = topSt[i];\r\n        const t = topSt[i + 1];\r\n        st[index++] = s;\r\n        st[index++] = t;\r\n        st[index++] = s;\r\n        st[index++] = t;\r\n      }\r\n      st[index++] = topSt[0];\r\n      st[index++] = topSt[1];\r\n    }\r\n    attributes.st.values = st;\r\n  }\r\n\r\n  return attributes;\r\n}\r\n\r\nfunction addWallPositions(positions, index, wallPositions) {\r\n  wallPositions[index++] = positions[0];\r\n  wallPositions[index++] = positions[1];\r\n  wallPositions[index++] = positions[2];\r\n  for (let i = 3; i < positions.length; i += 3) {\r\n    const x = positions[i];\r\n    const y = positions[i + 1];\r\n    const z = positions[i + 2];\r\n    wallPositions[index++] = x;\r\n    wallPositions[index++] = y;\r\n    wallPositions[index++] = z;\r\n    wallPositions[index++] = x;\r\n    wallPositions[index++] = y;\r\n    wallPositions[index++] = z;\r\n  }\r\n  wallPositions[index++] = positions[0];\r\n  wallPositions[index++] = positions[1];\r\n  wallPositions[index++] = positions[2];\r\n\r\n  return wallPositions;\r\n}\r\n\r\nfunction computePositionsExtruded(params, vertexFormat) {\r\n  const topVertexFormat = new VertexFormat({\r\n    position: vertexFormat.position,\r\n    normal:\r\n      vertexFormat.normal || vertexFormat.bitangent || params.shadowVolume,\r\n    tangent: vertexFormat.tangent,\r\n    bitangent: vertexFormat.normal || vertexFormat.bitangent,\r\n    st: vertexFormat.st,\r\n  });\r\n  const ellipsoid = params.ellipsoid;\r\n  const computedPositions = CorridorGeometryLibrary.computePositions(params);\r\n  const attr = combine(computedPositions, topVertexFormat, ellipsoid);\r\n  const height = params.height;\r\n  const extrudedHeight = params.extrudedHeight;\r\n  let attributes = attr.attributes;\r\n  const indices = attr.indices;\r\n  let positions = attributes.position.values;\r\n  let length = positions.length;\r\n  const newPositions = new Float64Array(length * 6);\r\n  let extrudedPositions = new Float64Array(length);\r\n  extrudedPositions.set(positions);\r\n  let wallPositions = new Float64Array(length * 4);\r\n\r\n  positions = PolygonPipeline.scaleToGeodeticHeight(\r\n    positions,\r\n    height,\r\n    ellipsoid\r\n  );\r\n  wallPositions = addWallPositions(positions, 0, wallPositions);\r\n  extrudedPositions = PolygonPipeline.scaleToGeodeticHeight(\r\n    extrudedPositions,\r\n    extrudedHeight,\r\n    ellipsoid\r\n  );\r\n  wallPositions = addWallPositions(\r\n    extrudedPositions,\r\n    length * 2,\r\n    wallPositions\r\n  );\r\n  newPositions.set(positions);\r\n  newPositions.set(extrudedPositions, length);\r\n  newPositions.set(wallPositions, length * 2);\r\n  attributes.position.values = newPositions;\r\n\r\n  attributes = extrudedAttributes(attributes, vertexFormat);\r\n  let i;\r\n  const size = length / 3;\r\n  if (params.shadowVolume) {\r\n    const topNormals = attributes.normal.values;\r\n    length = topNormals.length;\r\n\r\n    let extrudeNormals = new Float32Array(length * 6);\r\n    for (i = 0; i < length; i++) {\r\n      topNormals[i] = -topNormals[i];\r\n    }\r\n    //only get normals for bottom layer that's going to be pushed down\r\n    extrudeNormals.set(topNormals, length); //bottom face\r\n    extrudeNormals = addWallPositions(topNormals, length * 4, extrudeNormals); //bottom wall\r\n    attributes.extrudeDirection = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.FLOAT,\r\n      componentsPerAttribute: 3,\r\n      values: extrudeNormals,\r\n    });\r\n    if (!vertexFormat.normal) {\r\n      attributes.normal = undefined;\r\n    }\r\n  }\r\n  if (defined(params.offsetAttribute)) {\r\n    let applyOffset = new Uint8Array(size * 6);\r\n    if (params.offsetAttribute === GeometryOffsetAttribute.TOP) {\r\n      applyOffset = applyOffset\r\n        .fill(1, 0, size) // top face\r\n        .fill(1, size * 2, size * 4); // top wall\r\n    } else {\r\n      const applyOffsetValue =\r\n        params.offsetAttribute === GeometryOffsetAttribute.NONE ? 0 : 1;\r\n      applyOffset = applyOffset.fill(applyOffsetValue);\r\n    }\r\n    attributes.applyOffset = new GeometryAttribute({\r\n      componentDatatype: ComponentDatatype.UNSIGNED_BYTE,\r\n      componentsPerAttribute: 1,\r\n      values: applyOffset,\r\n    });\r\n  }\r\n\r\n  const iLength = indices.length;\r\n  const twoSize = size + size;\r\n  const newIndices = IndexDatatype.createTypedArray(\r\n    newPositions.length / 3,\r\n    iLength * 2 + twoSize * 3\r\n  );\r\n  newIndices.set(indices);\r\n  let index = iLength;\r\n  for (i = 0; i < iLength; i += 3) {\r\n    // bottom indices\r\n    const v0 = indices[i];\r\n    const v1 = indices[i + 1];\r\n    const v2 = indices[i + 2];\r\n    newIndices[index++] = v2 + size;\r\n    newIndices[index++] = v1 + size;\r\n    newIndices[index++] = v0 + size;\r\n  }\r\n\r\n  let UL, LL, UR, LR;\r\n\r\n  for (i = 0; i < twoSize; i += 2) {\r\n    //wall indices\r\n    UL = i + twoSize;\r\n    LL = UL + twoSize;\r\n    UR = UL + 1;\r\n    LR = LL + 1;\r\n    newIndices[index++] = UL;\r\n    newIndices[index++] = LL;\r\n    newIndices[index++] = UR;\r\n    newIndices[index++] = UR;\r\n    newIndices[index++] = LL;\r\n    newIndices[index++] = LR;\r\n  }\r\n\r\n  return {\r\n    attributes: attributes,\r\n    indices: newIndices,\r\n  };\r\n}\r\n\r\nconst scratchCartesian1 = new Cartesian3();\r\nconst scratchCartesian2 = new Cartesian3();\r\nconst scratchCartographic = new Cartographic();\r\n\r\nfunction computeOffsetPoints(\r\n  position1,\r\n  position2,\r\n  ellipsoid,\r\n  halfWidth,\r\n  min,\r\n  max\r\n) {\r\n  // Compute direction of offset the point\r\n  const direction = Cartesian3.subtract(\r\n    position2,\r\n    position1,\r\n    scratchCartesian1\r\n  );\r\n  Cartesian3.normalize(direction, direction);\r\n  const normal = ellipsoid.geodeticSurfaceNormal(position1, scratchCartesian2);\r\n  const offsetDirection = Cartesian3.cross(\r\n    direction,\r\n    normal,\r\n    scratchCartesian1\r\n  );\r\n  Cartesian3.multiplyByScalar(offsetDirection, halfWidth, offsetDirection);\r\n\r\n  let minLat = min.latitude;\r\n  let minLon = min.longitude;\r\n  let maxLat = max.latitude;\r\n  let maxLon = max.longitude;\r\n\r\n  // Compute 2 offset points\r\n  Cartesian3.add(position1, offsetDirection, scratchCartesian2);\r\n  ellipsoid.cartesianToCartographic(scratchCartesian2, scratchCartographic);\r\n\r\n  let lat = scratchCartographic.latitude;\r\n  let lon = scratchCartographic.longitude;\r\n  minLat = Math.min(minLat, lat);\r\n  minLon = Math.min(minLon, lon);\r\n  maxLat = Math.max(maxLat, lat);\r\n  maxLon = Math.max(maxLon, lon);\r\n\r\n  Cartesian3.subtract(position1, offsetDirection, scratchCartesian2);\r\n  ellipsoid.cartesianToCartographic(scratchCartesian2, scratchCartographic);\r\n\r\n  lat = scratchCartographic.latitude;\r\n  lon = scratchCartographic.longitude;\r\n  minLat = Math.min(minLat, lat);\r\n  minLon = Math.min(minLon, lon);\r\n  maxLat = Math.max(maxLat, lat);\r\n  maxLon = Math.max(maxLon, lon);\r\n\r\n  min.latitude = minLat;\r\n  min.longitude = minLon;\r\n  max.latitude = maxLat;\r\n  max.longitude = maxLon;\r\n}\r\n\r\nconst scratchCartesianOffset = new Cartesian3();\r\nconst scratchCartesianEnds = new Cartesian3();\r\nconst scratchCartographicMin = new Cartographic();\r\nconst scratchCartographicMax = new Cartographic();\r\n\r\nfunction computeRectangle(positions, ellipsoid, width, cornerType, result) {\r\n  positions = scaleToSurface(positions, ellipsoid);\r\n  const cleanPositions = arrayRemoveDuplicates(\r\n    positions,\r\n    Cartesian3.equalsEpsilon\r\n  );\r\n  const length = cleanPositions.length;\r\n  if (length < 2 || width <= 0) {\r\n    return new Rectangle();\r\n  }\r\n  const halfWidth = width * 0.5;\r\n\r\n  scratchCartographicMin.latitude = Number.POSITIVE_INFINITY;\r\n  scratchCartographicMin.longitude = Number.POSITIVE_INFINITY;\r\n  scratchCartographicMax.latitude = Number.NEGATIVE_INFINITY;\r\n  scratchCartographicMax.longitude = Number.NEGATIVE_INFINITY;\r\n\r\n  let lat, lon;\r\n  if (cornerType === CornerType.ROUNDED) {\r\n    // Compute start cap\r\n    const first = cleanPositions[0];\r\n    Cartesian3.subtract(first, cleanPositions[1], scratchCartesianOffset);\r\n    Cartesian3.normalize(scratchCartesianOffset, scratchCartesianOffset);\r\n    Cartesian3.multiplyByScalar(\r\n      scratchCartesianOffset,\r\n      halfWidth,\r\n      scratchCartesianOffset\r\n    );\r\n    Cartesian3.add(first, scratchCartesianOffset, scratchCartesianEnds);\r\n\r\n    ellipsoid.cartesianToCartographic(\r\n      scratchCartesianEnds,\r\n      scratchCartographic\r\n    );\r\n    lat = scratchCartographic.latitude;\r\n    lon = scratchCartographic.longitude;\r\n    scratchCartographicMin.latitude = Math.min(\r\n      scratchCartographicMin.latitude,\r\n      lat\r\n    );\r\n    scratchCartographicMin.longitude = Math.min(\r\n      scratchCartographicMin.longitude,\r\n      lon\r\n    );\r\n    scratchCartographicMax.latitude = Math.max(\r\n      scratchCartographicMax.latitude,\r\n      lat\r\n    );\r\n    scratchCartographicMax.longitude = Math.max(\r\n      scratchCartographicMax.longitude,\r\n      lon\r\n    );\r\n  }\r\n\r\n  // Compute the rest\r\n  for (let i = 0; i < length - 1; ++i) {\r\n    computeOffsetPoints(\r\n      cleanPositions[i],\r\n      cleanPositions[i + 1],\r\n      ellipsoid,\r\n      halfWidth,\r\n      scratchCartographicMin,\r\n      scratchCartographicMax\r\n    );\r\n  }\r\n\r\n  // Compute ending point\r\n  const last = cleanPositions[length - 1];\r\n  Cartesian3.subtract(last, cleanPositions[length - 2], scratchCartesianOffset);\r\n  Cartesian3.normalize(scratchCartesianOffset, scratchCartesianOffset);\r\n  Cartesian3.multiplyByScalar(\r\n    scratchCartesianOffset,\r\n    halfWidth,\r\n    scratchCartesianOffset\r\n  );\r\n  Cartesian3.add(last, scratchCartesianOffset, scratchCartesianEnds);\r\n  computeOffsetPoints(\r\n    last,\r\n    scratchCartesianEnds,\r\n    ellipsoid,\r\n    halfWidth,\r\n    scratchCartographicMin,\r\n    scratchCartographicMax\r\n  );\r\n\r\n  if (cornerType === CornerType.ROUNDED) {\r\n    // Compute end cap\r\n    ellipsoid.cartesianToCartographic(\r\n      scratchCartesianEnds,\r\n      scratchCartographic\r\n    );\r\n    lat = scratchCartographic.latitude;\r\n    lon = scratchCartographic.longitude;\r\n    scratchCartographicMin.latitude = Math.min(\r\n      scratchCartographicMin.latitude,\r\n      lat\r\n    );\r\n    scratchCartographicMin.longitude = Math.min(\r\n      scratchCartographicMin.longitude,\r\n      lon\r\n    );\r\n    scratchCartographicMax.latitude = Math.max(\r\n      scratchCartographicMax.latitude,\r\n      lat\r\n    );\r\n    scratchCartographicMax.longitude = Math.max(\r\n      scratchCartographicMax.longitude,\r\n      lon\r\n    );\r\n  }\r\n\r\n  const rectangle = defined(result) ? result : new Rectangle();\r\n  rectangle.north = scratchCartographicMax.latitude;\r\n  rectangle.south = scratchCartographicMin.latitude;\r\n  rectangle.east = scratchCartographicMax.longitude;\r\n  rectangle.west = scratchCartographicMin.longitude;\r\n\r\n  return rectangle;\r\n}\r\n\r\n/**\r\n * A description of a corridor. Corridor geometry can be rendered with both {@link Primitive} and {@link GroundPrimitive}.\r\n *\r\n * @alias CorridorGeometry\r\n * @constructor\r\n *\r\n * @param {Object} options Object with the following properties:\r\n * @param {Cartesian3[]} options.positions An array of positions that define the center of the corridor.\r\n * @param {Number} options.width The distance between the edges of the corridor in meters.\r\n * @param {Ellipsoid} [options.ellipsoid=Ellipsoid.WGS84] The ellipsoid to be used as a reference.\r\n * @param {Number} [options.granularity=CesiumMath.RADIANS_PER_DEGREE] The distance, in radians, between each latitude and longitude. Determines the number of positions in the buffer.\r\n * @param {Number} [options.height=0] The distance in meters between the ellipsoid surface and the positions.\r\n * @param {Number} [options.extrudedHeight] The distance in meters between the ellipsoid surface and the extruded face.\r\n * @param {VertexFormat} [options.vertexFormat=VertexFormat.DEFAULT] The vertex attributes to be computed.\r\n * @param {CornerType} [options.cornerType=CornerType.ROUNDED] Determines the style of the corners.\r\n *\r\n * @see CorridorGeometry.createGeometry\r\n * @see Packable\r\n *\r\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Corridor.html|Cesium Sandcastle Corridor Demo}\r\n *\r\n * @example\r\n * const corridor = new Cesium.CorridorGeometry({\r\n *   vertexFormat : Cesium.VertexFormat.POSITION_ONLY,\r\n *   positions : Cesium.Cartesian3.fromDegreesArray([-72.0, 40.0, -70.0, 35.0]),\r\n *   width : 100000\r\n * });\r\n */\r\nfunction CorridorGeometry(options) {\r\n  options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n  const positions = options.positions;\r\n  const width = options.width;\r\n\r\n  //>>includeStart('debug', pragmas.debug);\r\n  Check.defined(\"options.positions\", positions);\r\n  Check.defined(\"options.width\", width);\r\n  //>>includeEnd('debug');\r\n\r\n  const height = defaultValue(options.height, 0.0);\r\n  const extrudedHeight = defaultValue(options.extrudedHeight, height);\r\n\r\n  this._positions = positions;\r\n  this._ellipsoid = Ellipsoid.clone(\r\n    defaultValue(options.ellipsoid, Ellipsoid.WGS84)\r\n  );\r\n  this._vertexFormat = VertexFormat.clone(\r\n    defaultValue(options.vertexFormat, VertexFormat.DEFAULT)\r\n  );\r\n  this._width = width;\r\n  this._height = Math.max(height, extrudedHeight);\r\n  this._extrudedHeight = Math.min(height, extrudedHeight);\r\n  this._cornerType = defaultValue(options.cornerType, CornerType.ROUNDED);\r\n  this._granularity = defaultValue(\r\n    options.granularity,\r\n    CesiumMath.RADIANS_PER_DEGREE\r\n  );\r\n  this._shadowVolume = defaultValue(options.shadowVolume, false);\r\n  this._workerName = \"createCorridorGeometry\";\r\n  this._offsetAttribute = options.offsetAttribute;\r\n  this._rectangle = undefined;\r\n\r\n  /**\r\n   * The number of elements used to pack the object into an array.\r\n   * @type {Number}\r\n   */\r\n  this.packedLength =\r\n    1 +\r\n    positions.length * Cartesian3.packedLength +\r\n    Ellipsoid.packedLength +\r\n    VertexFormat.packedLength +\r\n    7;\r\n}\r\n\r\n/**\r\n * Stores the provided instance into the provided array.\r\n *\r\n * @param {CorridorGeometry} value The value to pack.\r\n * @param {Number[]} array The array to pack into.\r\n * @param {Number} [startingIndex=0] The index into the array at which to start packing the elements.\r\n *\r\n * @returns {Number[]} The array that was packed into\r\n */\r\nCorridorGeometry.pack = function (value, array, startingIndex) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  Check.defined(\"value\", value);\r\n  Check.defined(\"array\", array);\r\n  //>>includeEnd('debug');\r\n\r\n  startingIndex = defaultValue(startingIndex, 0);\r\n\r\n  const positions = value._positions;\r\n  const length = positions.length;\r\n  array[startingIndex++] = length;\r\n\r\n  for (let i = 0; i < length; ++i, startingIndex += Cartesian3.packedLength) {\r\n    Cartesian3.pack(positions[i], array, startingIndex);\r\n  }\r\n\r\n  Ellipsoid.pack(value._ellipsoid, array, startingIndex);\r\n  startingIndex += Ellipsoid.packedLength;\r\n\r\n  VertexFormat.pack(value._vertexFormat, array, startingIndex);\r\n  startingIndex += VertexFormat.packedLength;\r\n\r\n  array[startingIndex++] = value._width;\r\n  array[startingIndex++] = value._height;\r\n  array[startingIndex++] = value._extrudedHeight;\r\n  array[startingIndex++] = value._cornerType;\r\n  array[startingIndex++] = value._granularity;\r\n  array[startingIndex++] = value._shadowVolume ? 1.0 : 0.0;\r\n  array[startingIndex] = defaultValue(value._offsetAttribute, -1);\r\n\r\n  return array;\r\n};\r\n\r\nconst scratchEllipsoid = Ellipsoid.clone(Ellipsoid.UNIT_SPHERE);\r\nconst scratchVertexFormat = new VertexFormat();\r\nconst scratchOptions = {\r\n  positions: undefined,\r\n  ellipsoid: scratchEllipsoid,\r\n  vertexFormat: scratchVertexFormat,\r\n  width: undefined,\r\n  height: undefined,\r\n  extrudedHeight: undefined,\r\n  cornerType: undefined,\r\n  granularity: undefined,\r\n  shadowVolume: undefined,\r\n  offsetAttribute: undefined,\r\n};\r\n\r\n/**\r\n * Retrieves an instance from a packed array.\r\n *\r\n * @param {Number[]} array The packed array.\r\n * @param {Number} [startingIndex=0] The starting index of the element to be unpacked.\r\n * @param {CorridorGeometry} [result] The object into which to store the result.\r\n * @returns {CorridorGeometry} The modified result parameter or a new CorridorGeometry instance if one was not provided.\r\n */\r\nCorridorGeometry.unpack = function (array, startingIndex, result) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  Check.defined(\"array\", array);\r\n  //>>includeEnd('debug');\r\n\r\n  startingIndex = defaultValue(startingIndex, 0);\r\n\r\n  const length = array[startingIndex++];\r\n  const positions = new Array(length);\r\n\r\n  for (let i = 0; i < length; ++i, startingIndex += Cartesian3.packedLength) {\r\n    positions[i] = Cartesian3.unpack(array, startingIndex);\r\n  }\r\n\r\n  const ellipsoid = Ellipsoid.unpack(array, startingIndex, scratchEllipsoid);\r\n  startingIndex += Ellipsoid.packedLength;\r\n\r\n  const vertexFormat = VertexFormat.unpack(\r\n    array,\r\n    startingIndex,\r\n    scratchVertexFormat\r\n  );\r\n  startingIndex += VertexFormat.packedLength;\r\n\r\n  const width = array[startingIndex++];\r\n  const height = array[startingIndex++];\r\n  const extrudedHeight = array[startingIndex++];\r\n  const cornerType = array[startingIndex++];\r\n  const granularity = array[startingIndex++];\r\n  const shadowVolume = array[startingIndex++] === 1.0;\r\n  const offsetAttribute = array[startingIndex];\r\n\r\n  if (!defined(result)) {\r\n    scratchOptions.positions = positions;\r\n    scratchOptions.width = width;\r\n    scratchOptions.height = height;\r\n    scratchOptions.extrudedHeight = extrudedHeight;\r\n    scratchOptions.cornerType = cornerType;\r\n    scratchOptions.granularity = granularity;\r\n    scratchOptions.shadowVolume = shadowVolume;\r\n    scratchOptions.offsetAttribute =\r\n      offsetAttribute === -1 ? undefined : offsetAttribute;\r\n\r\n    return new CorridorGeometry(scratchOptions);\r\n  }\r\n\r\n  result._positions = positions;\r\n  result._ellipsoid = Ellipsoid.clone(ellipsoid, result._ellipsoid);\r\n  result._vertexFormat = VertexFormat.clone(vertexFormat, result._vertexFormat);\r\n  result._width = width;\r\n  result._height = height;\r\n  result._extrudedHeight = extrudedHeight;\r\n  result._cornerType = cornerType;\r\n  result._granularity = granularity;\r\n  result._shadowVolume = shadowVolume;\r\n  result._offsetAttribute =\r\n    offsetAttribute === -1 ? undefined : offsetAttribute;\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Computes the bounding rectangle given the provided options\r\n *\r\n * @param {Object} options Object with the following properties:\r\n * @param {Cartesian3[]} options.positions An array of positions that define the center of the corridor.\r\n * @param {Number} options.width The distance between the edges of the corridor in meters.\r\n * @param {Ellipsoid} [options.ellipsoid=Ellipsoid.WGS84] The ellipsoid to be used as a reference.\r\n * @param {CornerType} [options.cornerType=CornerType.ROUNDED] Determines the style of the corners.\r\n * @param {Rectangle} [result] An object in which to store the result.\r\n *\r\n * @returns {Rectangle} The result rectangle.\r\n */\r\nCorridorGeometry.computeRectangle = function (options, result) {\r\n  options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n  const positions = options.positions;\r\n  const width = options.width;\r\n\r\n  //>>includeStart('debug', pragmas.debug);\r\n  Check.defined(\"options.positions\", positions);\r\n  Check.defined(\"options.width\", width);\r\n  //>>includeEnd('debug');\r\n\r\n  const ellipsoid = defaultValue(options.ellipsoid, Ellipsoid.WGS84);\r\n  const cornerType = defaultValue(options.cornerType, CornerType.ROUNDED);\r\n\r\n  return computeRectangle(positions, ellipsoid, width, cornerType, result);\r\n};\r\n\r\n/**\r\n * Computes the geometric representation of a corridor, including its vertices, indices, and a bounding sphere.\r\n *\r\n * @param {CorridorGeometry} corridorGeometry A description of the corridor.\r\n * @returns {Geometry|undefined} The computed vertices and indices.\r\n */\r\nCorridorGeometry.createGeometry = function (corridorGeometry) {\r\n  let positions = corridorGeometry._positions;\r\n  const width = corridorGeometry._width;\r\n  const ellipsoid = corridorGeometry._ellipsoid;\r\n\r\n  positions = scaleToSurface(positions, ellipsoid);\r\n  const cleanPositions = arrayRemoveDuplicates(\r\n    positions,\r\n    Cartesian3.equalsEpsilon\r\n  );\r\n\r\n  if (cleanPositions.length < 2 || width <= 0) {\r\n    return;\r\n  }\r\n\r\n  const height = corridorGeometry._height;\r\n  const extrudedHeight = corridorGeometry._extrudedHeight;\r\n  const extrude = !CesiumMath.equalsEpsilon(\r\n    height,\r\n    extrudedHeight,\r\n    0,\r\n    CesiumMath.EPSILON2\r\n  );\r\n\r\n  const vertexFormat = corridorGeometry._vertexFormat;\r\n  const params = {\r\n    ellipsoid: ellipsoid,\r\n    positions: cleanPositions,\r\n    width: width,\r\n    cornerType: corridorGeometry._cornerType,\r\n    granularity: corridorGeometry._granularity,\r\n    saveAttributes: true,\r\n  };\r\n  let attr;\r\n  if (extrude) {\r\n    params.height = height;\r\n    params.extrudedHeight = extrudedHeight;\r\n    params.shadowVolume = corridorGeometry._shadowVolume;\r\n    params.offsetAttribute = corridorGeometry._offsetAttribute;\r\n    attr = computePositionsExtruded(params, vertexFormat);\r\n  } else {\r\n    const computedPositions = CorridorGeometryLibrary.computePositions(params);\r\n    attr = combine(computedPositions, vertexFormat, ellipsoid);\r\n    attr.attributes.position.values = PolygonPipeline.scaleToGeodeticHeight(\r\n      attr.attributes.position.values,\r\n      height,\r\n      ellipsoid\r\n    );\r\n\r\n    if (defined(corridorGeometry._offsetAttribute)) {\r\n      const applyOffsetValue =\r\n        corridorGeometry._offsetAttribute === GeometryOffsetAttribute.NONE\r\n          ? 0\r\n          : 1;\r\n      const length = attr.attributes.position.values.length;\r\n      const applyOffset = new Uint8Array(length / 3).fill(applyOffsetValue);\r\n      attr.attributes.applyOffset = new GeometryAttribute({\r\n        componentDatatype: ComponentDatatype.UNSIGNED_BYTE,\r\n        componentsPerAttribute: 1,\r\n        values: applyOffset,\r\n      });\r\n    }\r\n  }\r\n  const attributes = attr.attributes;\r\n  const boundingSphere = BoundingSphere.fromVertices(\r\n    attributes.position.values,\r\n    undefined,\r\n    3\r\n  );\r\n  if (!vertexFormat.position) {\r\n    attr.attributes.position.values = undefined;\r\n  }\r\n\r\n  return new Geometry({\r\n    attributes: attributes,\r\n    indices: attr.indices,\r\n    primitiveType: PrimitiveType.TRIANGLES,\r\n    boundingSphere: boundingSphere,\r\n    offsetAttribute: corridorGeometry._offsetAttribute,\r\n  });\r\n};\r\n\r\n/**\r\n * @private\r\n */\r\nCorridorGeometry.createShadowVolume = function (\r\n  corridorGeometry,\r\n  minHeightFunc,\r\n  maxHeightFunc\r\n) {\r\n  const granularity = corridorGeometry._granularity;\r\n  const ellipsoid = corridorGeometry._ellipsoid;\r\n\r\n  const minHeight = minHeightFunc(granularity, ellipsoid);\r\n  const maxHeight = maxHeightFunc(granularity, ellipsoid);\r\n\r\n  return new CorridorGeometry({\r\n    positions: corridorGeometry._positions,\r\n    width: corridorGeometry._width,\r\n    cornerType: corridorGeometry._cornerType,\r\n    ellipsoid: ellipsoid,\r\n    granularity: granularity,\r\n    extrudedHeight: minHeight,\r\n    height: maxHeight,\r\n    vertexFormat: VertexFormat.POSITION_ONLY,\r\n    shadowVolume: true,\r\n  });\r\n};\r\n\r\nObject.defineProperties(CorridorGeometry.prototype, {\r\n  /**\r\n   * @private\r\n   */\r\n  rectangle: {\r\n    get: function () {\r\n      if (!defined(this._rectangle)) {\r\n        this._rectangle = computeRectangle(\r\n          this._positions,\r\n          this._ellipsoid,\r\n          this._width,\r\n          this._cornerType\r\n        );\r\n      }\r\n      return this._rectangle;\r\n    },\r\n  },\r\n  /**\r\n   * For remapping texture coordinates when rendering CorridorGeometries as GroundPrimitives.\r\n   *\r\n   * Corridors don't support stRotation,\r\n   * so just return the corners of the original system.\r\n   * @private\r\n   */\r\n  textureCoordinateRotationPoints: {\r\n    get: function () {\r\n      return [0, 0, 0, 1, 1, 0];\r\n    },\r\n  },\r\n});\r\nexport default CorridorGeometry;\r\n","import CorridorGeometry from \"../Core/CorridorGeometry.js\";\r\nimport defined from \"../Core/defined.js\";\r\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\r\n\r\nfunction createCorridorGeometry(corridorGeometry, offset) {\r\n  if (defined(offset)) {\r\n    corridorGeometry = CorridorGeometry.unpack(corridorGeometry, offset);\r\n  }\r\n  corridorGeometry._ellipsoid = Ellipsoid.clone(corridorGeometry._ellipsoid);\r\n  return CorridorGeometry.createGeometry(corridorGeometry);\r\n}\r\nexport default createCorridorGeometry;\r\n"],"names":["Cartesian3","CorridorGeometryLibrary","GeometryAttributes","defined","IndexDatatype","GeometryAttribute","ComponentDatatype","CesiumMath","VertexFormat","PolygonPipeline","GeometryOffsetAttribute","Cartographic","arrayRemoveDuplicates","Rectangle","CornerType","defaultValue","Check","Ellipsoid","BoundingSphere","Geometry","PrimitiveType"],"mappings":"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"}