{"version":3,"file":"PolylineVolumeGeometryLibrary-eed2bdf7.js","sources":["../../../Source/Core/CornerType.js","../../../Source/Core/oneTimeWarning.js","../../../Source/Core/PolylineVolumeGeometryLibrary.js"],"sourcesContent":["/**\r\n * Style options for corners.\r\n *\r\n * @demo The {@link https://sandcastle.cesium.com/index.html?src=Corridor.html&label=Geometries|Corridor Demo}\r\n * demonstrates the three corner types, as used by {@link CorridorGraphics}.\r\n *\r\n * @enum {Number}\r\n */\r\nconst CornerType = {\r\n  /**\r\n   * <img src=\"Images/CornerTypeRounded.png\" style=\"vertical-align: middle;\" width=\"186\" height=\"189\" />\r\n   *\r\n   * Corner has a smooth edge.\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  ROUNDED: 0,\r\n\r\n  /**\r\n   * <img src=\"Images/CornerTypeMitered.png\" style=\"vertical-align: middle;\" width=\"186\" height=\"189\" />\r\n   *\r\n   * Corner point is the intersection of adjacent edges.\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  MITERED: 1,\r\n\r\n  /**\r\n   * <img src=\"Images/CornerTypeBeveled.png\" style=\"vertical-align: middle;\" width=\"186\" height=\"189\" />\r\n   *\r\n   * Corner is clipped.\r\n   * @type {Number}\r\n   * @constant\r\n   */\r\n  BEVELED: 2,\r\n};\r\nexport default Object.freeze(CornerType);\r\n","import defaultValue from \"./defaultValue.js\";\r\nimport defined from \"./defined.js\";\r\nimport DeveloperError from \"./DeveloperError.js\";\r\n\r\nconst warnings = {};\r\n\r\n/**\r\n * Logs a one time message to the console.  Use this function instead of\r\n * <code>console.log</code> directly since this does not log duplicate messages\r\n * unless it is called from multiple workers.\r\n *\r\n * @function oneTimeWarning\r\n *\r\n * @param {String} identifier The unique identifier for this warning.\r\n * @param {String} [message=identifier] The message to log to the console.\r\n *\r\n * @example\r\n * for(let i=0;i<foo.length;++i) {\r\n *    if (!defined(foo[i].bar)) {\r\n *       // Something that can be recovered from but may happen a lot\r\n *       oneTimeWarning('foo.bar undefined', 'foo.bar is undefined. Setting to 0.');\r\n *       foo[i].bar = 0;\r\n *       // ...\r\n *    }\r\n * }\r\n *\r\n * @private\r\n */\r\nfunction oneTimeWarning(identifier, message) {\r\n  //>>includeStart('debug', pragmas.debug);\r\n  if (!defined(identifier)) {\r\n    throw new DeveloperError(\"identifier is required.\");\r\n  }\r\n  //>>includeEnd('debug');\r\n\r\n  if (!defined(warnings[identifier])) {\r\n    warnings[identifier] = true;\r\n    console.warn(defaultValue(message, identifier));\r\n  }\r\n}\r\n\r\noneTimeWarning.geometryOutlines =\r\n  \"Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.\";\r\n\r\noneTimeWarning.geometryZIndex =\r\n  \"Entity geometry with zIndex are unsupported when height or extrudedHeight are defined.  zIndex will be ignored\";\r\n\r\noneTimeWarning.geometryHeightReference =\r\n  \"Entity corridor, ellipse, polygon or rectangle with heightReference must also have a defined height.  heightReference will be ignored\";\r\noneTimeWarning.geometryExtrudedHeightReference =\r\n  \"Entity corridor, ellipse, polygon or rectangle with extrudedHeightReference must also have a defined extrudedHeight.  extrudedHeightReference will be ignored\";\r\nexport default oneTimeWarning;\r\n","import Cartesian2 from \"./Cartesian2.js\";\r\nimport Cartesian3 from \"./Cartesian3.js\";\r\nimport Cartesian4 from \"./Cartesian4.js\";\r\nimport Cartographic from \"./Cartographic.js\";\r\nimport CornerType from \"./CornerType.js\";\r\nimport EllipsoidTangentPlane from \"./EllipsoidTangentPlane.js\";\r\nimport CesiumMath from \"./Math.js\";\r\nimport Matrix3 from \"./Matrix3.js\";\r\nimport Matrix4 from \"./Matrix4.js\";\r\nimport PolylinePipeline from \"./PolylinePipeline.js\";\r\nimport Quaternion from \"./Quaternion.js\";\r\nimport Transforms from \"./Transforms.js\";\r\nimport oneTimeWarning from \"../Core/oneTimeWarning.js\";\r\n\r\nconst scratch2Array = [new Cartesian3(), new Cartesian3()];\r\nconst scratchCartesian1 = new Cartesian3();\r\nconst scratchCartesian2 = new Cartesian3();\r\nconst scratchCartesian3 = new Cartesian3();\r\nconst scratchCartesian4 = new Cartesian3();\r\nconst scratchCartesian5 = new Cartesian3();\r\nconst scratchCartesian6 = new Cartesian3();\r\nconst scratchCartesian7 = new Cartesian3();\r\nconst scratchCartesian8 = new Cartesian3();\r\nconst scratchCartesian9 = new Cartesian3();\r\n\r\nconst scratch1 = new Cartesian3();\r\nconst scratch2 = new Cartesian3();\r\n\r\n/**\r\n * @private\r\n */\r\nconst PolylineVolumeGeometryLibrary = {};\r\n\r\nlet cartographic = new Cartographic();\r\nfunction scaleToSurface(positions, ellipsoid) {\r\n  const heights = new Array(positions.length);\r\n  for (let i = 0; i < positions.length; i++) {\r\n    const pos = positions[i];\r\n    cartographic = ellipsoid.cartesianToCartographic(pos, cartographic);\r\n    heights[i] = cartographic.height;\r\n    positions[i] = ellipsoid.scaleToGeodeticSurface(pos, pos);\r\n  }\r\n  return heights;\r\n}\r\n\r\nfunction subdivideHeights(points, h0, h1, granularity) {\r\n  const p0 = points[0];\r\n  const p1 = points[1];\r\n  const angleBetween = Cartesian3.angleBetween(p0, p1);\r\n  const numPoints = Math.ceil(angleBetween / granularity);\r\n  const heights = new Array(numPoints);\r\n  let i;\r\n  if (h0 === h1) {\r\n    for (i = 0; i < numPoints; i++) {\r\n      heights[i] = h0;\r\n    }\r\n    heights.push(h1);\r\n    return heights;\r\n  }\r\n\r\n  const dHeight = h1 - h0;\r\n  const heightPerVertex = dHeight / numPoints;\r\n\r\n  for (i = 1; i < numPoints; i++) {\r\n    const h = h0 + i * heightPerVertex;\r\n    heights[i] = h;\r\n  }\r\n\r\n  heights[0] = h0;\r\n  heights.push(h1);\r\n  return heights;\r\n}\r\n\r\nconst nextScratch = new Cartesian3();\r\nconst prevScratch = new Cartesian3();\r\n\r\nfunction computeRotationAngle(start, end, position, ellipsoid) {\r\n  const tangentPlane = new EllipsoidTangentPlane(position, ellipsoid);\r\n  const next = tangentPlane.projectPointOntoPlane(\r\n    Cartesian3.add(position, start, nextScratch),\r\n    nextScratch\r\n  );\r\n  const prev = tangentPlane.projectPointOntoPlane(\r\n    Cartesian3.add(position, end, prevScratch),\r\n    prevScratch\r\n  );\r\n  const angle = Cartesian2.angleBetween(next, prev);\r\n\r\n  return prev.x * next.y - prev.y * next.x >= 0.0 ? -angle : angle;\r\n}\r\n\r\nconst negativeX = new Cartesian3(-1, 0, 0);\r\nlet transform = new Matrix4();\r\nconst translation = new Matrix4();\r\nlet rotationZ = new Matrix3();\r\nconst scaleMatrix = Matrix3.IDENTITY.clone();\r\nconst westScratch = new Cartesian3();\r\nconst finalPosScratch = new Cartesian4();\r\nconst heightCartesian = new Cartesian3();\r\nfunction addPosition(\r\n  center,\r\n  left,\r\n  shape,\r\n  finalPositions,\r\n  ellipsoid,\r\n  height,\r\n  xScalar,\r\n  repeat\r\n) {\r\n  let west = westScratch;\r\n  let finalPosition = finalPosScratch;\r\n  transform = Transforms.eastNorthUpToFixedFrame(center, ellipsoid, transform);\r\n\r\n  west = Matrix4.multiplyByPointAsVector(transform, negativeX, west);\r\n  west = Cartesian3.normalize(west, west);\r\n  const angle = computeRotationAngle(west, left, center, ellipsoid);\r\n  rotationZ = Matrix3.fromRotationZ(angle, rotationZ);\r\n\r\n  heightCartesian.z = height;\r\n  transform = Matrix4.multiplyTransformation(\r\n    transform,\r\n    Matrix4.fromRotationTranslation(rotationZ, heightCartesian, translation),\r\n    transform\r\n  );\r\n  const scale = scaleMatrix;\r\n  scale[0] = xScalar;\r\n\r\n  for (let j = 0; j < repeat; j++) {\r\n    for (let i = 0; i < shape.length; i += 3) {\r\n      finalPosition = Cartesian3.fromArray(shape, i, finalPosition);\r\n      finalPosition = Matrix3.multiplyByVector(\r\n        scale,\r\n        finalPosition,\r\n        finalPosition\r\n      );\r\n      finalPosition = Matrix4.multiplyByPoint(\r\n        transform,\r\n        finalPosition,\r\n        finalPosition\r\n      );\r\n      finalPositions.push(finalPosition.x, finalPosition.y, finalPosition.z);\r\n    }\r\n  }\r\n\r\n  return finalPositions;\r\n}\r\n\r\nconst centerScratch = new Cartesian3();\r\nfunction addPositions(\r\n  centers,\r\n  left,\r\n  shape,\r\n  finalPositions,\r\n  ellipsoid,\r\n  heights,\r\n  xScalar\r\n) {\r\n  for (let i = 0; i < centers.length; i += 3) {\r\n    const center = Cartesian3.fromArray(centers, i, centerScratch);\r\n    finalPositions = addPosition(\r\n      center,\r\n      left,\r\n      shape,\r\n      finalPositions,\r\n      ellipsoid,\r\n      heights[i / 3],\r\n      xScalar,\r\n      1\r\n    );\r\n  }\r\n  return finalPositions;\r\n}\r\n\r\nfunction convertShapeTo3DDuplicate(shape2D, boundingRectangle) {\r\n  //orientate 2D shape to XZ plane center at (0, 0, 0), duplicate points\r\n  const length = shape2D.length;\r\n  const shape = new Array(length * 6);\r\n  let index = 0;\r\n  const xOffset = boundingRectangle.x + boundingRectangle.width / 2;\r\n  const yOffset = boundingRectangle.y + boundingRectangle.height / 2;\r\n\r\n  let point = shape2D[0];\r\n  shape[index++] = point.x - xOffset;\r\n  shape[index++] = 0.0;\r\n  shape[index++] = point.y - yOffset;\r\n  for (let i = 1; i < length; i++) {\r\n    point = shape2D[i];\r\n    const x = point.x - xOffset;\r\n    const z = point.y - yOffset;\r\n    shape[index++] = x;\r\n    shape[index++] = 0.0;\r\n    shape[index++] = z;\r\n\r\n    shape[index++] = x;\r\n    shape[index++] = 0.0;\r\n    shape[index++] = z;\r\n  }\r\n  point = shape2D[0];\r\n  shape[index++] = point.x - xOffset;\r\n  shape[index++] = 0.0;\r\n  shape[index++] = point.y - yOffset;\r\n\r\n  return shape;\r\n}\r\n\r\nfunction convertShapeTo3D(shape2D, boundingRectangle) {\r\n  //orientate 2D shape to XZ plane center at (0, 0, 0)\r\n  const length = shape2D.length;\r\n  const shape = new Array(length * 3);\r\n  let index = 0;\r\n  const xOffset = boundingRectangle.x + boundingRectangle.width / 2;\r\n  const yOffset = boundingRectangle.y + boundingRectangle.height / 2;\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    shape[index++] = shape2D[i].x - xOffset;\r\n    shape[index++] = 0;\r\n    shape[index++] = shape2D[i].y - yOffset;\r\n  }\r\n\r\n  return shape;\r\n}\r\n\r\nconst quaterion = new Quaternion();\r\nconst startPointScratch = new Cartesian3();\r\nconst rotMatrix = new Matrix3();\r\nfunction computeRoundCorner(\r\n  pivot,\r\n  startPoint,\r\n  endPoint,\r\n  cornerType,\r\n  leftIsOutside,\r\n  ellipsoid,\r\n  finalPositions,\r\n  shape,\r\n  height,\r\n  duplicatePoints\r\n) {\r\n  const angle = Cartesian3.angleBetween(\r\n    Cartesian3.subtract(startPoint, pivot, scratch1),\r\n    Cartesian3.subtract(endPoint, pivot, scratch2)\r\n  );\r\n  const granularity =\r\n    cornerType === CornerType.BEVELED\r\n      ? 0\r\n      : Math.ceil(angle / CesiumMath.toRadians(5));\r\n\r\n  let m;\r\n  if (leftIsOutside) {\r\n    m = Matrix3.fromQuaternion(\r\n      Quaternion.fromAxisAngle(\r\n        Cartesian3.negate(pivot, scratch1),\r\n        angle / (granularity + 1),\r\n        quaterion\r\n      ),\r\n      rotMatrix\r\n    );\r\n  } else {\r\n    m = Matrix3.fromQuaternion(\r\n      Quaternion.fromAxisAngle(pivot, angle / (granularity + 1), quaterion),\r\n      rotMatrix\r\n    );\r\n  }\r\n\r\n  let left;\r\n  let surfacePoint;\r\n  startPoint = Cartesian3.clone(startPoint, startPointScratch);\r\n  if (granularity > 0) {\r\n    const repeat = duplicatePoints ? 2 : 1;\r\n    for (let i = 0; i < granularity; i++) {\r\n      startPoint = Matrix3.multiplyByVector(m, startPoint, startPoint);\r\n      left = Cartesian3.subtract(startPoint, pivot, scratch1);\r\n      left = Cartesian3.normalize(left, left);\r\n      if (!leftIsOutside) {\r\n        left = Cartesian3.negate(left, left);\r\n      }\r\n      surfacePoint = ellipsoid.scaleToGeodeticSurface(startPoint, scratch2);\r\n      finalPositions = addPosition(\r\n        surfacePoint,\r\n        left,\r\n        shape,\r\n        finalPositions,\r\n        ellipsoid,\r\n        height,\r\n        1,\r\n        repeat\r\n      );\r\n    }\r\n  } else {\r\n    left = Cartesian3.subtract(startPoint, pivot, scratch1);\r\n    left = Cartesian3.normalize(left, left);\r\n    if (!leftIsOutside) {\r\n      left = Cartesian3.negate(left, left);\r\n    }\r\n    surfacePoint = ellipsoid.scaleToGeodeticSurface(startPoint, scratch2);\r\n    finalPositions = addPosition(\r\n      surfacePoint,\r\n      left,\r\n      shape,\r\n      finalPositions,\r\n      ellipsoid,\r\n      height,\r\n      1,\r\n      1\r\n    );\r\n\r\n    endPoint = Cartesian3.clone(endPoint, startPointScratch);\r\n    left = Cartesian3.subtract(endPoint, pivot, scratch1);\r\n    left = Cartesian3.normalize(left, left);\r\n    if (!leftIsOutside) {\r\n      left = Cartesian3.negate(left, left);\r\n    }\r\n    surfacePoint = ellipsoid.scaleToGeodeticSurface(endPoint, scratch2);\r\n    finalPositions = addPosition(\r\n      surfacePoint,\r\n      left,\r\n      shape,\r\n      finalPositions,\r\n      ellipsoid,\r\n      height,\r\n      1,\r\n      1\r\n    );\r\n  }\r\n\r\n  return finalPositions;\r\n}\r\n\r\nPolylineVolumeGeometryLibrary.removeDuplicatesFromShape = function (\r\n  shapePositions\r\n) {\r\n  const length = shapePositions.length;\r\n  const cleanedPositions = [];\r\n  for (let i0 = length - 1, i1 = 0; i1 < length; i0 = i1++) {\r\n    const v0 = shapePositions[i0];\r\n    const v1 = shapePositions[i1];\r\n\r\n    if (!Cartesian2.equals(v0, v1)) {\r\n      cleanedPositions.push(v1); // Shallow copy!\r\n    }\r\n  }\r\n\r\n  return cleanedPositions;\r\n};\r\n\r\nPolylineVolumeGeometryLibrary.angleIsGreaterThanPi = function (\r\n  forward,\r\n  backward,\r\n  position,\r\n  ellipsoid\r\n) {\r\n  const tangentPlane = new EllipsoidTangentPlane(position, ellipsoid);\r\n  const next = tangentPlane.projectPointOntoPlane(\r\n    Cartesian3.add(position, forward, nextScratch),\r\n    nextScratch\r\n  );\r\n  const prev = tangentPlane.projectPointOntoPlane(\r\n    Cartesian3.add(position, backward, prevScratch),\r\n    prevScratch\r\n  );\r\n\r\n  return prev.x * next.y - prev.y * next.x >= 0.0;\r\n};\r\n\r\nconst scratchForwardProjection = new Cartesian3();\r\nconst scratchBackwardProjection = new Cartesian3();\r\n\r\nPolylineVolumeGeometryLibrary.computePositions = function (\r\n  positions,\r\n  shape2D,\r\n  boundingRectangle,\r\n  geometry,\r\n  duplicatePoints\r\n) {\r\n  const ellipsoid = geometry._ellipsoid;\r\n  const heights = scaleToSurface(positions, ellipsoid);\r\n  const granularity = geometry._granularity;\r\n  const cornerType = geometry._cornerType;\r\n  const shapeForSides = duplicatePoints\r\n    ? convertShapeTo3DDuplicate(shape2D, boundingRectangle)\r\n    : convertShapeTo3D(shape2D, boundingRectangle);\r\n  const shapeForEnds = duplicatePoints\r\n    ? convertShapeTo3D(shape2D, boundingRectangle)\r\n    : undefined;\r\n  const heightOffset = boundingRectangle.height / 2;\r\n  const width = boundingRectangle.width / 2;\r\n  let length = positions.length;\r\n  let finalPositions = [];\r\n  let ends = duplicatePoints ? [] : undefined;\r\n\r\n  let forward = scratchCartesian1;\r\n  let backward = scratchCartesian2;\r\n  let cornerDirection = scratchCartesian3;\r\n  let surfaceNormal = scratchCartesian4;\r\n  let pivot = scratchCartesian5;\r\n  let start = scratchCartesian6;\r\n  let end = scratchCartesian7;\r\n  let left = scratchCartesian8;\r\n  let previousPosition = scratchCartesian9;\r\n\r\n  let position = positions[0];\r\n  let nextPosition = positions[1];\r\n  surfaceNormal = ellipsoid.geodeticSurfaceNormal(position, surfaceNormal);\r\n  forward = Cartesian3.subtract(nextPosition, position, forward);\r\n  forward = Cartesian3.normalize(forward, forward);\r\n  left = Cartesian3.cross(surfaceNormal, forward, left);\r\n  left = Cartesian3.normalize(left, left);\r\n  let h0 = heights[0];\r\n  let h1 = heights[1];\r\n  if (duplicatePoints) {\r\n    ends = addPosition(\r\n      position,\r\n      left,\r\n      shapeForEnds,\r\n      ends,\r\n      ellipsoid,\r\n      h0 + heightOffset,\r\n      1,\r\n      1\r\n    );\r\n  }\r\n  previousPosition = Cartesian3.clone(position, previousPosition);\r\n  position = nextPosition;\r\n  backward = Cartesian3.negate(forward, backward);\r\n  let subdividedHeights;\r\n  let subdividedPositions;\r\n  for (let i = 1; i < length - 1; i++) {\r\n    const repeat = duplicatePoints ? 2 : 1;\r\n    nextPosition = positions[i + 1];\r\n    if (position.equals(nextPosition)) {\r\n      oneTimeWarning(\r\n        \"Positions are too close and are considered equivalent with rounding error.\"\r\n      );\r\n      continue;\r\n    }\r\n    forward = Cartesian3.subtract(nextPosition, position, forward);\r\n    forward = Cartesian3.normalize(forward, forward);\r\n    cornerDirection = Cartesian3.add(forward, backward, cornerDirection);\r\n    cornerDirection = Cartesian3.normalize(cornerDirection, cornerDirection);\r\n    surfaceNormal = ellipsoid.geodeticSurfaceNormal(position, surfaceNormal);\r\n\r\n    const forwardProjection = Cartesian3.multiplyByScalar(\r\n      surfaceNormal,\r\n      Cartesian3.dot(forward, surfaceNormal),\r\n      scratchForwardProjection\r\n    );\r\n    Cartesian3.subtract(forward, forwardProjection, forwardProjection);\r\n    Cartesian3.normalize(forwardProjection, forwardProjection);\r\n\r\n    const backwardProjection = Cartesian3.multiplyByScalar(\r\n      surfaceNormal,\r\n      Cartesian3.dot(backward, surfaceNormal),\r\n      scratchBackwardProjection\r\n    );\r\n    Cartesian3.subtract(backward, backwardProjection, backwardProjection);\r\n    Cartesian3.normalize(backwardProjection, backwardProjection);\r\n\r\n    const doCorner = !CesiumMath.equalsEpsilon(\r\n      Math.abs(Cartesian3.dot(forwardProjection, backwardProjection)),\r\n      1.0,\r\n      CesiumMath.EPSILON7\r\n    );\r\n\r\n    if (doCorner) {\r\n      cornerDirection = Cartesian3.cross(\r\n        cornerDirection,\r\n        surfaceNormal,\r\n        cornerDirection\r\n      );\r\n      cornerDirection = Cartesian3.cross(\r\n        surfaceNormal,\r\n        cornerDirection,\r\n        cornerDirection\r\n      );\r\n      cornerDirection = Cartesian3.normalize(cornerDirection, cornerDirection);\r\n      const scalar =\r\n        1 /\r\n        Math.max(\r\n          0.25,\r\n          Cartesian3.magnitude(\r\n            Cartesian3.cross(cornerDirection, backward, scratch1)\r\n          )\r\n        );\r\n      const leftIsOutside = PolylineVolumeGeometryLibrary.angleIsGreaterThanPi(\r\n        forward,\r\n        backward,\r\n        position,\r\n        ellipsoid\r\n      );\r\n      if (leftIsOutside) {\r\n        pivot = Cartesian3.add(\r\n          position,\r\n          Cartesian3.multiplyByScalar(\r\n            cornerDirection,\r\n            scalar * width,\r\n            cornerDirection\r\n          ),\r\n          pivot\r\n        );\r\n        start = Cartesian3.add(\r\n          pivot,\r\n          Cartesian3.multiplyByScalar(left, width, start),\r\n          start\r\n        );\r\n        scratch2Array[0] = Cartesian3.clone(previousPosition, scratch2Array[0]);\r\n        scratch2Array[1] = Cartesian3.clone(start, scratch2Array[1]);\r\n        subdividedHeights = subdivideHeights(\r\n          scratch2Array,\r\n          h0 + heightOffset,\r\n          h1 + heightOffset,\r\n          granularity\r\n        );\r\n        subdividedPositions = PolylinePipeline.generateArc({\r\n          positions: scratch2Array,\r\n          granularity: granularity,\r\n          ellipsoid: ellipsoid,\r\n        });\r\n        finalPositions = addPositions(\r\n          subdividedPositions,\r\n          left,\r\n          shapeForSides,\r\n          finalPositions,\r\n          ellipsoid,\r\n          subdividedHeights,\r\n          1\r\n        );\r\n        left = Cartesian3.cross(surfaceNormal, forward, left);\r\n        left = Cartesian3.normalize(left, left);\r\n        end = Cartesian3.add(\r\n          pivot,\r\n          Cartesian3.multiplyByScalar(left, width, end),\r\n          end\r\n        );\r\n        if (\r\n          cornerType === CornerType.ROUNDED ||\r\n          cornerType === CornerType.BEVELED\r\n        ) {\r\n          computeRoundCorner(\r\n            pivot,\r\n            start,\r\n            end,\r\n            cornerType,\r\n            leftIsOutside,\r\n            ellipsoid,\r\n            finalPositions,\r\n            shapeForSides,\r\n            h1 + heightOffset,\r\n            duplicatePoints\r\n          );\r\n        } else {\r\n          cornerDirection = Cartesian3.negate(cornerDirection, cornerDirection);\r\n          finalPositions = addPosition(\r\n            position,\r\n            cornerDirection,\r\n            shapeForSides,\r\n            finalPositions,\r\n            ellipsoid,\r\n            h1 + heightOffset,\r\n            scalar,\r\n            repeat\r\n          );\r\n        }\r\n        previousPosition = Cartesian3.clone(end, previousPosition);\r\n      } else {\r\n        pivot = Cartesian3.add(\r\n          position,\r\n          Cartesian3.multiplyByScalar(\r\n            cornerDirection,\r\n            scalar * width,\r\n            cornerDirection\r\n          ),\r\n          pivot\r\n        );\r\n        start = Cartesian3.add(\r\n          pivot,\r\n          Cartesian3.multiplyByScalar(left, -width, start),\r\n          start\r\n        );\r\n        scratch2Array[0] = Cartesian3.clone(previousPosition, scratch2Array[0]);\r\n        scratch2Array[1] = Cartesian3.clone(start, scratch2Array[1]);\r\n        subdividedHeights = subdivideHeights(\r\n          scratch2Array,\r\n          h0 + heightOffset,\r\n          h1 + heightOffset,\r\n          granularity\r\n        );\r\n        subdividedPositions = PolylinePipeline.generateArc({\r\n          positions: scratch2Array,\r\n          granularity: granularity,\r\n          ellipsoid: ellipsoid,\r\n        });\r\n        finalPositions = addPositions(\r\n          subdividedPositions,\r\n          left,\r\n          shapeForSides,\r\n          finalPositions,\r\n          ellipsoid,\r\n          subdividedHeights,\r\n          1\r\n        );\r\n        left = Cartesian3.cross(surfaceNormal, forward, left);\r\n        left = Cartesian3.normalize(left, left);\r\n        end = Cartesian3.add(\r\n          pivot,\r\n          Cartesian3.multiplyByScalar(left, -width, end),\r\n          end\r\n        );\r\n        if (\r\n          cornerType === CornerType.ROUNDED ||\r\n          cornerType === CornerType.BEVELED\r\n        ) {\r\n          computeRoundCorner(\r\n            pivot,\r\n            start,\r\n            end,\r\n            cornerType,\r\n            leftIsOutside,\r\n            ellipsoid,\r\n            finalPositions,\r\n            shapeForSides,\r\n            h1 + heightOffset,\r\n            duplicatePoints\r\n          );\r\n        } else {\r\n          finalPositions = addPosition(\r\n            position,\r\n            cornerDirection,\r\n            shapeForSides,\r\n            finalPositions,\r\n            ellipsoid,\r\n            h1 + heightOffset,\r\n            scalar,\r\n            repeat\r\n          );\r\n        }\r\n        previousPosition = Cartesian3.clone(end, previousPosition);\r\n      }\r\n      backward = Cartesian3.negate(forward, backward);\r\n    } else {\r\n      finalPositions = addPosition(\r\n        previousPosition,\r\n        left,\r\n        shapeForSides,\r\n        finalPositions,\r\n        ellipsoid,\r\n        h0 + heightOffset,\r\n        1,\r\n        1\r\n      );\r\n      previousPosition = position;\r\n    }\r\n    h0 = h1;\r\n    h1 = heights[i + 1];\r\n    position = nextPosition;\r\n  }\r\n\r\n  scratch2Array[0] = Cartesian3.clone(previousPosition, scratch2Array[0]);\r\n  scratch2Array[1] = Cartesian3.clone(position, scratch2Array[1]);\r\n  subdividedHeights = subdivideHeights(\r\n    scratch2Array,\r\n    h0 + heightOffset,\r\n    h1 + heightOffset,\r\n    granularity\r\n  );\r\n  subdividedPositions = PolylinePipeline.generateArc({\r\n    positions: scratch2Array,\r\n    granularity: granularity,\r\n    ellipsoid: ellipsoid,\r\n  });\r\n  finalPositions = addPositions(\r\n    subdividedPositions,\r\n    left,\r\n    shapeForSides,\r\n    finalPositions,\r\n    ellipsoid,\r\n    subdividedHeights,\r\n    1\r\n  );\r\n  if (duplicatePoints) {\r\n    ends = addPosition(\r\n      position,\r\n      left,\r\n      shapeForEnds,\r\n      ends,\r\n      ellipsoid,\r\n      h1 + heightOffset,\r\n      1,\r\n      1\r\n    );\r\n  }\r\n\r\n  length = finalPositions.length;\r\n  const posLength = duplicatePoints ? length + ends.length : length;\r\n  const combinedPositions = new Float64Array(posLength);\r\n  combinedPositions.set(finalPositions);\r\n  if (duplicatePoints) {\r\n    combinedPositions.set(ends, length);\r\n  }\r\n\r\n  return combinedPositions;\r\n};\r\nexport default PolylineVolumeGeometryLibrary;\r\n"],"names":["defined","DeveloperError","defaultValue","Cartesian3","Cartographic","EllipsoidTangentPlane","Cartesian2","Matrix4","Matrix3","Cartesian4","Transforms","Quaternion","CornerType","CesiumMath","PolylinePipeline"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,UAAU,GAAG;EACnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,EAAE,CAAC;AACZ;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,EAAE,CAAC;AACZ;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,EAAE,CAAC;EACZ,CAAC,CAAC;AACF,qBAAe,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC;;EChCxC,MAAM,QAAQ,GAAG,EAAE,CAAC;AACpB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,SAAS,cAAc,CAAC,UAAU,EAAE,OAAO,EAAE;EAC7C;EACA,EAAE,IAAI,CAACA,oBAAO,CAAC,UAAU,CAAC,EAAE;EAC5B,IAAI,MAAM,IAAIC,oBAAc,CAAC,yBAAyB,CAAC,CAAC;EACxD,GAAG;EACH;AACA;EACA,EAAE,IAAI,CAACD,oBAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,EAAE;EACtC,IAAI,QAAQ,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;EAChC,IAAI,OAAO,CAAC,IAAI,CAACE,yBAAY,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;EACpD,GAAG;EACH,CAAC;AACD;EACA,cAAc,CAAC,gBAAgB;EAC/B,EAAE,0KAA0K,CAAC;AAC7K;EACA,cAAc,CAAC,cAAc;EAC7B,EAAE,gHAAgH,CAAC;AACnH;EACA,cAAc,CAAC,uBAAuB;EACtC,EAAE,uIAAuI,CAAC;EAC1I,cAAc,CAAC,+BAA+B;EAC9C,EAAE,+JAA+J;;ECpCjK,MAAM,aAAa,GAAG,CAAC,IAAIC,kBAAU,EAAE,EAAE,IAAIA,kBAAU,EAAE,CAAC,CAAC;EAC3D,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAC3C,MAAM,iBAAiB,GAAG,IAAIA,kBAAU,EAAE,CAAC;AAC3C;EACA,MAAM,QAAQ,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAClC,MAAM,QAAQ,GAAG,IAAIA,kBAAU,EAAE,CAAC;AAClC;EACA;EACA;EACA;EACA,MAAM,6BAA6B,GAAG,EAAE,CAAC;AACzC;EACA,IAAI,YAAY,GAAG,IAAIC,oBAAY,EAAE,CAAC;EACtC,SAAS,cAAc,CAAC,SAAS,EAAE,SAAS,EAAE;EAC9C,EAAE,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;EAC9C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC7C,IAAI,MAAM,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;EAC7B,IAAI,YAAY,GAAG,SAAS,CAAC,uBAAuB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;EACxE,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;EACrC,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,sBAAsB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;EAC9D,GAAG;EACH,EAAE,OAAO,OAAO,CAAC;EACjB,CAAC;AACD;EACA,SAAS,gBAAgB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,WAAW,EAAE;EACvD,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;EACvB,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;EACvB,EAAE,MAAM,YAAY,GAAGD,kBAAU,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACvD,EAAE,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,CAAC;EAC1D,EAAE,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;EACvC,EAAE,IAAI,CAAC,CAAC;EACR,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;EACjB,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;EACpC,MAAM,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;EACtB,KAAK;EACL,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACrB,IAAI,OAAO,OAAO,CAAC;EACnB,GAAG;AACH;EACA,EAAE,MAAM,OAAO,GAAG,EAAE,GAAG,EAAE,CAAC;EAC1B,EAAE,MAAM,eAAe,GAAG,OAAO,GAAG,SAAS,CAAC;AAC9C;EACA,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;EAClC,IAAI,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,eAAe,CAAC;EACvC,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACnB,GAAG;AACH;EACA,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;EAClB,EAAE,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACnB,EAAE,OAAO,OAAO,CAAC;EACjB,CAAC;AACD;EACA,MAAM,WAAW,GAAG,IAAIA,kBAAU,EAAE,CAAC;EACrC,MAAM,WAAW,GAAG,IAAIA,kBAAU,EAAE,CAAC;AACrC;EACA,SAAS,oBAAoB,CAAC,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,SAAS,EAAE;EAC/D,EAAE,MAAM,YAAY,GAAG,IAAIE,2CAAqB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;EACtE,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,qBAAqB;EACjD,IAAIF,kBAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,WAAW,CAAC;EAChD,IAAI,WAAW;EACf,GAAG,CAAC;EACJ,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,qBAAqB;EACjD,IAAIA,kBAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,EAAE,WAAW,CAAC;EAC9C,IAAI,WAAW;EACf,GAAG,CAAC;EACJ,EAAE,MAAM,KAAK,GAAGG,kBAAU,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACpD;EACA,EAAE,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;EACnE,CAAC;AACD;EACA,MAAM,SAAS,GAAG,IAAIH,kBAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC3C,IAAI,SAAS,GAAG,IAAII,eAAO,EAAE,CAAC;EAC9B,MAAM,WAAW,GAAG,IAAIA,eAAO,EAAE,CAAC;EAClC,IAAI,SAAS,GAAG,IAAIC,eAAO,EAAE,CAAC;EAC9B,MAAM,WAAW,GAAGA,eAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;EAC7C,MAAM,WAAW,GAAG,IAAIL,kBAAU,EAAE,CAAC;EACrC,MAAM,eAAe,GAAG,IAAIM,kBAAU,EAAE,CAAC;EACzC,MAAM,eAAe,GAAG,IAAIN,kBAAU,EAAE,CAAC;EACzC,SAAS,WAAW;EACpB,EAAE,MAAM;EACR,EAAE,IAAI;EACN,EAAE,KAAK;EACP,EAAE,cAAc;EAChB,EAAE,SAAS;EACX,EAAE,MAAM;EACR,EAAE,OAAO;EACT,EAAE,MAAM;EACR,EAAE;EACF,EAAE,IAAI,IAAI,GAAG,WAAW,CAAC;EACzB,EAAE,IAAI,aAAa,GAAG,eAAe,CAAC;EACtC,EAAE,SAAS,GAAGO,qBAAU,CAAC,uBAAuB,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;AAC/E;EACA,EAAE,IAAI,GAAGH,eAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;EACrE,EAAE,IAAI,GAAGJ,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC1C,EAAE,MAAM,KAAK,GAAG,oBAAoB,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;EACpE,EAAE,SAAS,GAAGK,eAAO,CAAC,aAAa,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;AACtD;EACA,EAAE,eAAe,CAAC,CAAC,GAAG,MAAM,CAAC;EAC7B,EAAE,SAAS,GAAGD,eAAO,CAAC,sBAAsB;EAC5C,IAAI,SAAS;EACb,IAAIA,eAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,eAAe,EAAE,WAAW,CAAC;EAC5E,IAAI,SAAS;EACb,GAAG,CAAC;EACJ,EAAE,MAAM,KAAK,GAAG,WAAW,CAAC;EAC5B,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;AACrB;EACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;EACnC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;EAC9C,MAAM,aAAa,GAAGJ,kBAAU,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;EACpE,MAAM,aAAa,GAAGK,eAAO,CAAC,gBAAgB;EAC9C,QAAQ,KAAK;EACb,QAAQ,aAAa;EACrB,QAAQ,aAAa;EACrB,OAAO,CAAC;EACR,MAAM,aAAa,GAAGD,eAAO,CAAC,eAAe;EAC7C,QAAQ,SAAS;EACjB,QAAQ,aAAa;EACrB,QAAQ,aAAa;EACrB,OAAO,CAAC;EACR,MAAM,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;EAC7E,KAAK;EACL,GAAG;AACH;EACA,EAAE,OAAO,cAAc,CAAC;EACxB,CAAC;AACD;EACA,MAAM,aAAa,GAAG,IAAIJ,kBAAU,EAAE,CAAC;EACvC,SAAS,YAAY;EACrB,EAAE,OAAO;EACT,EAAE,IAAI;EACN,EAAE,KAAK;EACP,EAAE,cAAc;EAChB,EAAE,SAAS;EACX,EAAE,OAAO;EACT,EAAE,OAAO;EACT,EAAE;EACF,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;EAC9C,IAAI,MAAM,MAAM,GAAGA,kBAAU,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;EACnE,IAAI,cAAc,GAAG,WAAW;EAChC,MAAM,MAAM;EACZ,MAAM,IAAI;EACV,MAAM,KAAK;EACX,MAAM,cAAc;EACpB,MAAM,SAAS;EACf,MAAM,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;EACpB,MAAM,OAAO;EACb,MAAM,CAAC;EACP,KAAK,CAAC;EACN,GAAG;EACH,EAAE,OAAO,cAAc,CAAC;EACxB,CAAC;AACD;EACA,SAAS,yBAAyB,CAAC,OAAO,EAAE,iBAAiB,EAAE;EAC/D;EACA,EAAE,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;EAChC,EAAE,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;EACtC,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;EAChB,EAAE,MAAM,OAAO,GAAG,iBAAiB,CAAC,CAAC,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;EACpE,EAAE,MAAM,OAAO,GAAG,iBAAiB,CAAC,CAAC,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;AACrE;EACA,EAAE,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;EACzB,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;EACrC,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC;EACvB,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;EACrC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;EACnC,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;EACvB,IAAI,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;EAChC,IAAI,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;EAChC,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;EACvB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC;EACzB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;AACvB;EACA,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;EACvB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC;EACzB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;EACvB,GAAG;EACH,EAAE,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;EACrB,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;EACrC,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC;EACvB,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;AACrC;EACA,EAAE,OAAO,KAAK,CAAC;EACf,CAAC;AACD;EACA,SAAS,gBAAgB,CAAC,OAAO,EAAE,iBAAiB,EAAE;EACtD;EACA,EAAE,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;EAChC,EAAE,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;EACtC,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;EAChB,EAAE,MAAM,OAAO,GAAG,iBAAiB,CAAC,CAAC,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;EACpE,EAAE,MAAM,OAAO,GAAG,iBAAiB,CAAC,CAAC,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;AACrE;EACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;EACnC,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;EAC5C,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;EACvB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;EAC5C,GAAG;AACH;EACA,EAAE,OAAO,KAAK,CAAC;EACf,CAAC;AACD;EACA,MAAM,SAAS,GAAG,IAAIQ,qBAAU,EAAE,CAAC;EACnC,MAAM,iBAAiB,GAAG,IAAIR,kBAAU,EAAE,CAAC;EAC3C,MAAM,SAAS,GAAG,IAAIK,eAAO,EAAE,CAAC;EAChC,SAAS,kBAAkB;EAC3B,EAAE,KAAK;EACP,EAAE,UAAU;EACZ,EAAE,QAAQ;EACV,EAAE,UAAU;EACZ,EAAE,aAAa;EACf,EAAE,SAAS;EACX,EAAE,cAAc;EAChB,EAAE,KAAK;EACP,EAAE,MAAM;EACR,EAAE,eAAe;EACjB,EAAE;EACF,EAAE,MAAM,KAAK,GAAGL,kBAAU,CAAC,YAAY;EACvC,IAAIA,kBAAU,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAE,QAAQ,CAAC;EACpD,IAAIA,kBAAU,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC;EAClD,GAAG,CAAC;EACJ,EAAE,MAAM,WAAW;EACnB,IAAI,UAAU,KAAKS,YAAU,CAAC,OAAO;EACrC,QAAQ,CAAC;EACT,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAGC,iBAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AACnD;EACA,EAAE,IAAI,CAAC,CAAC;EACR,EAAE,IAAI,aAAa,EAAE;EACrB,IAAI,CAAC,GAAGL,eAAO,CAAC,cAAc;EAC9B,MAAMG,qBAAU,CAAC,aAAa;EAC9B,QAAQR,kBAAU,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC;EAC1C,QAAQ,KAAK,IAAI,WAAW,GAAG,CAAC,CAAC;EACjC,QAAQ,SAAS;EACjB,OAAO;EACP,MAAM,SAAS;EACf,KAAK,CAAC;EACN,GAAG,MAAM;EACT,IAAI,CAAC,GAAGK,eAAO,CAAC,cAAc;EAC9B,MAAMG,qBAAU,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC;EAC3E,MAAM,SAAS;EACf,KAAK,CAAC;EACN,GAAG;AACH;EACA,EAAE,IAAI,IAAI,CAAC;EACX,EAAE,IAAI,YAAY,CAAC;EACnB,EAAE,UAAU,GAAGR,kBAAU,CAAC,KAAK,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC;EAC/D,EAAE,IAAI,WAAW,GAAG,CAAC,EAAE;EACvB,IAAI,MAAM,MAAM,GAAG,eAAe,GAAG,CAAC,GAAG,CAAC,CAAC;EAC3C,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;EAC1C,MAAM,UAAU,GAAGK,eAAO,CAAC,gBAAgB,CAAC,CAAC,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;EACvE,MAAM,IAAI,GAAGL,kBAAU,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;EAC9D,MAAM,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC9C,MAAM,IAAI,CAAC,aAAa,EAAE;EAC1B,QAAQ,IAAI,GAAGA,kBAAU,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC7C,OAAO;EACP,MAAM,YAAY,GAAG,SAAS,CAAC,sBAAsB,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;EAC5E,MAAM,cAAc,GAAG,WAAW;EAClC,QAAQ,YAAY;EACpB,QAAQ,IAAI;EACZ,QAAQ,KAAK;EACb,QAAQ,cAAc;EACtB,QAAQ,SAAS;EACjB,QAAQ,MAAM;EACd,QAAQ,CAAC;EACT,QAAQ,MAAM;EACd,OAAO,CAAC;EACR,KAAK;EACL,GAAG,MAAM;EACT,IAAI,IAAI,GAAGA,kBAAU,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;EAC5D,IAAI,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC5C,IAAI,IAAI,CAAC,aAAa,EAAE;EACxB,MAAM,IAAI,GAAGA,kBAAU,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC3C,KAAK;EACL,IAAI,YAAY,GAAG,SAAS,CAAC,sBAAsB,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;EAC1E,IAAI,cAAc,GAAG,WAAW;EAChC,MAAM,YAAY;EAClB,MAAM,IAAI;EACV,MAAM,KAAK;EACX,MAAM,cAAc;EACpB,MAAM,SAAS;EACf,MAAM,MAAM;EACZ,MAAM,CAAC;EACP,MAAM,CAAC;EACP,KAAK,CAAC;AACN;EACA,IAAI,QAAQ,GAAGA,kBAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;EAC7D,IAAI,IAAI,GAAGA,kBAAU,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;EAC1D,IAAI,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC5C,IAAI,IAAI,CAAC,aAAa,EAAE;EACxB,MAAM,IAAI,GAAGA,kBAAU,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC3C,KAAK;EACL,IAAI,YAAY,GAAG,SAAS,CAAC,sBAAsB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;EACxE,IAAI,cAAc,GAAG,WAAW;EAChC,MAAM,YAAY;EAClB,MAAM,IAAI;EACV,MAAM,KAAK;EACX,MAAM,cAAc;EACpB,MAAM,SAAS;EACf,MAAM,MAAM;EACZ,MAAM,CAAC;EACP,MAAM,CAAC;EACP,KAAK,CAAC;EACN,GAAG;AACH;EACA,EAAE,OAAO,cAAc,CAAC;EACxB,CAAC;AACD;EACA,6BAA6B,CAAC,yBAAyB,GAAG;EAC1D,EAAE,cAAc;EAChB,EAAE;EACF,EAAE,MAAM,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC;EACvC,EAAE,MAAM,gBAAgB,GAAG,EAAE,CAAC;EAC9B,EAAE,KAAK,IAAI,EAAE,GAAG,MAAM,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;EAC5D,IAAI,MAAM,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;EAClC,IAAI,MAAM,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AAClC;EACA,IAAI,IAAI,CAACG,kBAAU,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE;EACpC,MAAM,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EAChC,KAAK;EACL,GAAG;AACH;EACA,EAAE,OAAO,gBAAgB,CAAC;EAC1B,CAAC,CAAC;AACF;EACA,6BAA6B,CAAC,oBAAoB,GAAG;EACrD,EAAE,OAAO;EACT,EAAE,QAAQ;EACV,EAAE,QAAQ;EACV,EAAE,SAAS;EACX,EAAE;EACF,EAAE,MAAM,YAAY,GAAG,IAAID,2CAAqB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;EACtE,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,qBAAqB;EACjD,IAAIF,kBAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC;EAClD,IAAI,WAAW;EACf,GAAG,CAAC;EACJ,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,qBAAqB;EACjD,IAAIA,kBAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW,CAAC;EACnD,IAAI,WAAW;EACf,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC;EAClD,CAAC,CAAC;AACF;EACA,MAAM,wBAAwB,GAAG,IAAIA,kBAAU,EAAE,CAAC;EAClD,MAAM,yBAAyB,GAAG,IAAIA,kBAAU,EAAE,CAAC;AACnD;EACA,6BAA6B,CAAC,gBAAgB,GAAG;EACjD,EAAE,SAAS;EACX,EAAE,OAAO;EACT,EAAE,iBAAiB;EACnB,EAAE,QAAQ;EACV,EAAE,eAAe;EACjB,EAAE;EACF,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,UAAU,CAAC;EACxC,EAAE,MAAM,OAAO,GAAG,cAAc,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;EACvD,EAAE,MAAM,WAAW,GAAG,QAAQ,CAAC,YAAY,CAAC;EAC5C,EAAE,MAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC;EAC1C,EAAE,MAAM,aAAa,GAAG,eAAe;EACvC,MAAM,yBAAyB,CAAC,OAAO,EAAE,iBAAiB,CAAC;EAC3D,MAAM,gBAAgB,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;EACnD,EAAE,MAAM,YAAY,GAAG,eAAe;EACtC,MAAM,gBAAgB,CAAC,OAAO,EAAE,iBAAiB,CAAC;EAClD,MAAM,SAAS,CAAC;EAChB,EAAE,MAAM,YAAY,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;EACpD,EAAE,MAAM,KAAK,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;EAC5C,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;EAChC,EAAE,IAAI,cAAc,GAAG,EAAE,CAAC;EAC1B,EAAE,IAAI,IAAI,GAAG,eAAe,GAAG,EAAE,GAAG,SAAS,CAAC;AAC9C;EACA,EAAE,IAAI,OAAO,GAAG,iBAAiB,CAAC;EAClC,EAAE,IAAI,QAAQ,GAAG,iBAAiB,CAAC;EACnC,EAAE,IAAI,eAAe,GAAG,iBAAiB,CAAC;EAC1C,EAAE,IAAI,aAAa,GAAG,iBAAiB,CAAC;EACxC,EAAE,IAAI,KAAK,GAAG,iBAAiB,CAAC;EAChC,EAAE,IAAI,KAAK,GAAG,iBAAiB,CAAC;EAChC,EAAE,IAAI,GAAG,GAAG,iBAAiB,CAAC;EAC9B,EAAE,IAAI,IAAI,GAAG,iBAAiB,CAAC;EAC/B,EAAE,IAAI,gBAAgB,GAAG,iBAAiB,CAAC;AAC3C;EACA,EAAE,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;EAC9B,EAAE,IAAI,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;EAClC,EAAE,aAAa,GAAG,SAAS,CAAC,qBAAqB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;EAC3E,EAAE,OAAO,GAAGA,kBAAU,CAAC,QAAQ,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;EACjE,EAAE,OAAO,GAAGA,kBAAU,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACnD,EAAE,IAAI,GAAGA,kBAAU,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;EACxD,EAAE,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC1C,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;EACtB,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;EACtB,EAAE,IAAI,eAAe,EAAE;EACvB,IAAI,IAAI,GAAG,WAAW;EACtB,MAAM,QAAQ;EACd,MAAM,IAAI;EACV,MAAM,YAAY;EAClB,MAAM,IAAI;EACV,MAAM,SAAS;EACf,MAAM,EAAE,GAAG,YAAY;EACvB,MAAM,CAAC;EACP,MAAM,CAAC;EACP,KAAK,CAAC;EACN,GAAG;EACH,EAAE,gBAAgB,GAAGA,kBAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;EAClE,EAAE,QAAQ,GAAG,YAAY,CAAC;EAC1B,EAAE,QAAQ,GAAGA,kBAAU,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;EAClD,EAAE,IAAI,iBAAiB,CAAC;EACxB,EAAE,IAAI,mBAAmB,CAAC;EAC1B,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;EACvC,IAAI,MAAM,MAAM,GAAG,eAAe,GAAG,CAAC,GAAG,CAAC,CAAC;EAC3C,IAAI,YAAY,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACpC,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE;EACvC,MAAM,cAAc;EACpB,QAAQ,4EAA4E;EACpF,OAAO,CAAC;EACR,MAAM,SAAS;EACf,KAAK;EACL,IAAI,OAAO,GAAGA,kBAAU,CAAC,QAAQ,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;EACnE,IAAI,OAAO,GAAGA,kBAAU,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACrD,IAAI,eAAe,GAAGA,kBAAU,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,eAAe,CAAC,CAAC;EACzE,IAAI,eAAe,GAAGA,kBAAU,CAAC,SAAS,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;EAC7E,IAAI,aAAa,GAAG,SAAS,CAAC,qBAAqB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;AAC7E;EACA,IAAI,MAAM,iBAAiB,GAAGA,kBAAU,CAAC,gBAAgB;EACzD,MAAM,aAAa;EACnB,MAAMA,kBAAU,CAAC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;EAC5C,MAAM,wBAAwB;EAC9B,KAAK,CAAC;EACN,IAAIA,kBAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;EACvE,IAAIA,kBAAU,CAAC,SAAS,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;AAC/D;EACA,IAAI,MAAM,kBAAkB,GAAGA,kBAAU,CAAC,gBAAgB;EAC1D,MAAM,aAAa;EACnB,MAAMA,kBAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC;EAC7C,MAAM,yBAAyB;EAC/B,KAAK,CAAC;EACN,IAAIA,kBAAU,CAAC,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;EAC1E,IAAIA,kBAAU,CAAC,SAAS,CAAC,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;AACjE;EACA,IAAI,MAAM,QAAQ,GAAG,CAACU,iBAAU,CAAC,aAAa;EAC9C,MAAM,IAAI,CAAC,GAAG,CAACV,kBAAU,CAAC,GAAG,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;EACrE,MAAM,GAAG;EACT,MAAMU,iBAAU,CAAC,QAAQ;EACzB,KAAK,CAAC;AACN;EACA,IAAI,IAAI,QAAQ,EAAE;EAClB,MAAM,eAAe,GAAGV,kBAAU,CAAC,KAAK;EACxC,QAAQ,eAAe;EACvB,QAAQ,aAAa;EACrB,QAAQ,eAAe;EACvB,OAAO,CAAC;EACR,MAAM,eAAe,GAAGA,kBAAU,CAAC,KAAK;EACxC,QAAQ,aAAa;EACrB,QAAQ,eAAe;EACvB,QAAQ,eAAe;EACvB,OAAO,CAAC;EACR,MAAM,eAAe,GAAGA,kBAAU,CAAC,SAAS,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;EAC/E,MAAM,MAAM,MAAM;EAClB,QAAQ,CAAC;EACT,QAAQ,IAAI,CAAC,GAAG;EAChB,UAAU,IAAI;EACd,UAAUA,kBAAU,CAAC,SAAS;EAC9B,YAAYA,kBAAU,CAAC,KAAK,CAAC,eAAe,EAAE,QAAQ,EAAE,QAAQ,CAAC;EACjE,WAAW;EACX,SAAS,CAAC;EACV,MAAM,MAAM,aAAa,GAAG,6BAA6B,CAAC,oBAAoB;EAC9E,QAAQ,OAAO;EACf,QAAQ,QAAQ;EAChB,QAAQ,QAAQ;EAChB,QAAQ,SAAS;EACjB,OAAO,CAAC;EACR,MAAM,IAAI,aAAa,EAAE;EACzB,QAAQ,KAAK,GAAGA,kBAAU,CAAC,GAAG;EAC9B,UAAU,QAAQ;EAClB,UAAUA,kBAAU,CAAC,gBAAgB;EACrC,YAAY,eAAe;EAC3B,YAAY,MAAM,GAAG,KAAK;EAC1B,YAAY,eAAe;EAC3B,WAAW;EACX,UAAU,KAAK;EACf,SAAS,CAAC;EACV,QAAQ,KAAK,GAAGA,kBAAU,CAAC,GAAG;EAC9B,UAAU,KAAK;EACf,UAAUA,kBAAU,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;EACzD,UAAU,KAAK;EACf,SAAS,CAAC;EACV,QAAQ,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,gBAAgB,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EAChF,QAAQ,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,QAAQ,iBAAiB,GAAG,gBAAgB;EAC5C,UAAU,aAAa;EACvB,UAAU,EAAE,GAAG,YAAY;EAC3B,UAAU,EAAE,GAAG,YAAY;EAC3B,UAAU,WAAW;EACrB,SAAS,CAAC;EACV,QAAQ,mBAAmB,GAAGW,iCAAgB,CAAC,WAAW,CAAC;EAC3D,UAAU,SAAS,EAAE,aAAa;EAClC,UAAU,WAAW,EAAE,WAAW;EAClC,UAAU,SAAS,EAAE,SAAS;EAC9B,SAAS,CAAC,CAAC;EACX,QAAQ,cAAc,GAAG,YAAY;EACrC,UAAU,mBAAmB;EAC7B,UAAU,IAAI;EACd,UAAU,aAAa;EACvB,UAAU,cAAc;EACxB,UAAU,SAAS;EACnB,UAAU,iBAAiB;EAC3B,UAAU,CAAC;EACX,SAAS,CAAC;EACV,QAAQ,IAAI,GAAGX,kBAAU,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;EAC9D,QAAQ,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAChD,QAAQ,GAAG,GAAGA,kBAAU,CAAC,GAAG;EAC5B,UAAU,KAAK;EACf,UAAUA,kBAAU,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC;EACvD,UAAU,GAAG;EACb,SAAS,CAAC;EACV,QAAQ;EACR,UAAU,UAAU,KAAKS,YAAU,CAAC,OAAO;EAC3C,UAAU,UAAU,KAAKA,YAAU,CAAC,OAAO;EAC3C,UAAU;EACV,UAAU,kBAAkB;EAC5B,YAAY,KAAK;EACjB,YAAY,KAAK;EACjB,YAAY,GAAG;EACf,YAAY,UAAU;EACtB,YAAY,aAAa;EACzB,YAAY,SAAS;EACrB,YAAY,cAAc;EAC1B,YAAY,aAAa;EACzB,YAAY,EAAE,GAAG,YAAY;EAC7B,YAAY,eAAe;EAC3B,WAAW,CAAC;EACZ,SAAS,MAAM;EACf,UAAU,eAAe,GAAGT,kBAAU,CAAC,MAAM,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC;EAChF,UAAU,cAAc,GAAG,WAAW;EACtC,YAAY,QAAQ;EACpB,YAAY,eAAe;EAC3B,YAAY,aAAa;EACzB,YAAY,cAAc;EAC1B,YAAY,SAAS;EACrB,YAAY,EAAE,GAAG,YAAY;EAC7B,YAAY,MAAM;EAClB,YAAY,MAAM;EAClB,WAAW,CAAC;EACZ,SAAS;EACT,QAAQ,gBAAgB,GAAGA,kBAAU,CAAC,KAAK,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;EACnE,OAAO,MAAM;EACb,QAAQ,KAAK,GAAGA,kBAAU,CAAC,GAAG;EAC9B,UAAU,QAAQ;EAClB,UAAUA,kBAAU,CAAC,gBAAgB;EACrC,YAAY,eAAe;EAC3B,YAAY,MAAM,GAAG,KAAK;EAC1B,YAAY,eAAe;EAC3B,WAAW;EACX,UAAU,KAAK;EACf,SAAS,CAAC;EACV,QAAQ,KAAK,GAAGA,kBAAU,CAAC,GAAG;EAC9B,UAAU,KAAK;EACf,UAAUA,kBAAU,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;EAC1D,UAAU,KAAK;EACf,SAAS,CAAC;EACV,QAAQ,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,gBAAgB,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EAChF,QAAQ,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,QAAQ,iBAAiB,GAAG,gBAAgB;EAC5C,UAAU,aAAa;EACvB,UAAU,EAAE,GAAG,YAAY;EAC3B,UAAU,EAAE,GAAG,YAAY;EAC3B,UAAU,WAAW;EACrB,SAAS,CAAC;EACV,QAAQ,mBAAmB,GAAGW,iCAAgB,CAAC,WAAW,CAAC;EAC3D,UAAU,SAAS,EAAE,aAAa;EAClC,UAAU,WAAW,EAAE,WAAW;EAClC,UAAU,SAAS,EAAE,SAAS;EAC9B,SAAS,CAAC,CAAC;EACX,QAAQ,cAAc,GAAG,YAAY;EACrC,UAAU,mBAAmB;EAC7B,UAAU,IAAI;EACd,UAAU,aAAa;EACvB,UAAU,cAAc;EACxB,UAAU,SAAS;EACnB,UAAU,iBAAiB;EAC3B,UAAU,CAAC;EACX,SAAS,CAAC;EACV,QAAQ,IAAI,GAAGX,kBAAU,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;EAC9D,QAAQ,IAAI,GAAGA,kBAAU,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAChD,QAAQ,GAAG,GAAGA,kBAAU,CAAC,GAAG;EAC5B,UAAU,KAAK;EACf,UAAUA,kBAAU,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC;EACxD,UAAU,GAAG;EACb,SAAS,CAAC;EACV,QAAQ;EACR,UAAU,UAAU,KAAKS,YAAU,CAAC,OAAO;EAC3C,UAAU,UAAU,KAAKA,YAAU,CAAC,OAAO;EAC3C,UAAU;EACV,UAAU,kBAAkB;EAC5B,YAAY,KAAK;EACjB,YAAY,KAAK;EACjB,YAAY,GAAG;EACf,YAAY,UAAU;EACtB,YAAY,aAAa;EACzB,YAAY,SAAS;EACrB,YAAY,cAAc;EAC1B,YAAY,aAAa;EACzB,YAAY,EAAE,GAAG,YAAY;EAC7B,YAAY,eAAe;EAC3B,WAAW,CAAC;EACZ,SAAS,MAAM;EACf,UAAU,cAAc,GAAG,WAAW;EACtC,YAAY,QAAQ;EACpB,YAAY,eAAe;EAC3B,YAAY,aAAa;EACzB,YAAY,cAAc;EAC1B,YAAY,SAAS;EACrB,YAAY,EAAE,GAAG,YAAY;EAC7B,YAAY,MAAM;EAClB,YAAY,MAAM;EAClB,WAAW,CAAC;EACZ,SAAS;EACT,QAAQ,gBAAgB,GAAGT,kBAAU,CAAC,KAAK,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;EACnE,OAAO;EACP,MAAM,QAAQ,GAAGA,kBAAU,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;EACtD,KAAK,MAAM;EACX,MAAM,cAAc,GAAG,WAAW;EAClC,QAAQ,gBAAgB;EACxB,QAAQ,IAAI;EACZ,QAAQ,aAAa;EACrB,QAAQ,cAAc;EACtB,QAAQ,SAAS;EACjB,QAAQ,EAAE,GAAG,YAAY;EACzB,QAAQ,CAAC;EACT,QAAQ,CAAC;EACT,OAAO,CAAC;EACR,MAAM,gBAAgB,GAAG,QAAQ,CAAC;EAClC,KAAK;EACL,IAAI,EAAE,GAAG,EAAE,CAAC;EACZ,IAAI,EAAE,GAAG,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACxB,IAAI,QAAQ,GAAG,YAAY,CAAC;EAC5B,GAAG;AACH;EACA,EAAE,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,gBAAgB,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1E,EAAE,aAAa,CAAC,CAAC,CAAC,GAAGA,kBAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,EAAE,iBAAiB,GAAG,gBAAgB;EACtC,IAAI,aAAa;EACjB,IAAI,EAAE,GAAG,YAAY;EACrB,IAAI,EAAE,GAAG,YAAY;EACrB,IAAI,WAAW;EACf,GAAG,CAAC;EACJ,EAAE,mBAAmB,GAAGW,iCAAgB,CAAC,WAAW,CAAC;EACrD,IAAI,SAAS,EAAE,aAAa;EAC5B,IAAI,WAAW,EAAE,WAAW;EAC5B,IAAI,SAAS,EAAE,SAAS;EACxB,GAAG,CAAC,CAAC;EACL,EAAE,cAAc,GAAG,YAAY;EAC/B,IAAI,mBAAmB;EACvB,IAAI,IAAI;EACR,IAAI,aAAa;EACjB,IAAI,cAAc;EAClB,IAAI,SAAS;EACb,IAAI,iBAAiB;EACrB,IAAI,CAAC;EACL,GAAG,CAAC;EACJ,EAAE,IAAI,eAAe,EAAE;EACvB,IAAI,IAAI,GAAG,WAAW;EACtB,MAAM,QAAQ;EACd,MAAM,IAAI;EACV,MAAM,YAAY;EAClB,MAAM,IAAI;EACV,MAAM,SAAS;EACf,MAAM,EAAE,GAAG,YAAY;EACvB,MAAM,CAAC;EACP,MAAM,CAAC;EACP,KAAK,CAAC;EACN,GAAG;AACH;EACA,EAAE,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC;EACjC,EAAE,MAAM,SAAS,GAAG,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;EACpE,EAAE,MAAM,iBAAiB,GAAG,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;EACxD,EAAE,iBAAiB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;EACxC,EAAE,IAAI,eAAe,EAAE;EACvB,IAAI,iBAAiB,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;EACxC,GAAG;AACH;EACA,EAAE,OAAO,iBAAiB,CAAC;EAC3B,CAAC,CAAC;AACF,wCAAe,6BAA6B;;;;;;;;;;"}